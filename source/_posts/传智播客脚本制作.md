---
title: 😎 colincora的传智播客小助手 😎
date: 2022-08-17 17:08:35
categories: "技术"
tags: "网课"
---

## 介绍

这是一个由 colincora 魔改的传智播客小助手，具备自动跳视频、自动答题以及对接一之题库的功能。

## 功能特点

- 📺 自动跳视频：小助手可以自动跳过已观看的视频，帮助你节省时间。
- 📝 自动答题：小助手可以自动回答一之题库中的题目，让你轻松通过考试。
- 📚 对接一之题库：小助手与一之题库对接，可以获取最新的题目和答案，保证你获取到准确的信息。

## 使用方法

1. 首先，确保你已经安装了 浏览器油猴脚本【**Tampermonkey**】,并且复制脚本代码到新建脚本。
2. 
3. 打开传智播客的学习平台，并登录你的账号。
4. 在视频播放页面，启动小助手插件。
5. 小助手会自动检测当前视频的进度，并跳过已观看的部分。
6. 当遇到题目时，小助手会自动从一之题库获取答案，并填写在答题框中。
7. 完成所有题目后，你可以继续观看视频，或者根据需要自行操作。

## 注意事项

- 本小助手仅供学习和参考使用，请勿用于非法用途。
- 使用本小助手可能违反传智播客的使用规定，请自行承担风险。
- 对接一之题库需要提供合法的账号信息，请确保你的账号合法有效。

## 免责声明

本小助手仅为个人开发项目，不对使用该软件产生的任何问题负责。使用本小助手即代表您已经阅读并同意自行承担使用风险。

## 联系方式

如有任何问题或建议，欢迎联系 colincora：

- 邮箱：3300519161@qq.com
- 微信：REMINAX

## 贡献者

- colincora

感谢所有为这个项目做出贡献的人！

## 授权许可

该项目采用 [MIT](https://opensource.org/licenses/MIT) 开源许可证。请查阅许可证文件以获取更多信息。

**祝你学习愉快！😄**



## 脚本代码



```javascript
// ==UserScript==
// @name         colincora的传智播客小助手
// @namespace    *.com
// @version      9.9.9
// @description  colin魔改 跳视频+自动答题  一名来自保定学院滴学生制作 Q3300519161
// @author       colincora
// @match        https://stu.ityxb.com/preview/detail/*
// @namespace    https://stu.ityxb.com/writePaper/busywork/*
// @match        https://stu.ityxb.com/writePaper/busywork/*
// @match        https://stu.ityxb.com/lookPaper/busywork/*
// @grant        GM_xmlhttpRequest
// @grant        GM_addStyle
// @grant        GM_log
// @icon         https://tch.ityxb.com/favicon.ico
// ==/UserScript==


var tibody;//题目数组
var total = 0;//题目总数量
var index = 0;//搜题索引自动增加
 let url = window.location.href;
console.log('欢迎使用colincora传智播客小助手！作者QQ3300519161');
        if(url.includes("https://stu.ityxb.com/preview/detail/")){
            const courseName = document.querySelector('p.course-name');
if (courseName) {
  courseName.textContent = '';
}

            console.log('这是预习作业答题部分！');
            window.onload = function(){
//    var bgdiv = document.getElementsByClassName("question-info-box");
//bgdiv.style.background = "url('https://i.postimg.cc/BZKZRRtJ/20220508084230592.jpg')";

//tibody=document.getElementsByClassName("question-title-box");
//total = tibody.length;


                  // 创建一个新的 div 元素
                 let newDiv = document.createElement("div");
                 // 给它一些内容
                 let newContent = document.createTextNode("colincora！Q3300519161");
                 // 添加文本节点 到这个新的 div 元素
                 newDiv.appendChild(newContent);
                 newDiv.style.position='fixed';
                 newDiv.style.backgroundColor='red'
                //  newDiv.style.width='20px';
                //  newDiv.style.length='20px';
                newDiv.style.fontSize='28px';
   // document.querySelector("#beginHeaderNav").appendChild(newDiv);
                newDiv.style.top='60px';

                }


function zhongzhuan(){
    var bgdiv = document.getElementsByClassName("question-info-box");
    tibody=document.getElementsByClassName("question-title-box");
    console.log(tibody)
    total = tibody.length;
    kaishi(tibody[index]);

}


function kaishi(ti){
    let text=document.getElementsByClassName("question-title-box")[0].innerText.substring(4);
console.log(text);
        GM_xmlhttpRequest({//油猴脚本提供的异步函数
            method: 'POST',
            url: 'http://cx.icodef.com/wyn-nb?v=4',//网课接口
            headers: {
                'Content-type': 'application/x-www-form-urlencoded',
                 'Authorization': 'NLUIeWEHQHBAapeH'
            },
            data: 'question='+ encodeURIComponent(document.getElementsByClassName("question-title-box")[0].innerText.substring(4)),
            timeout: 2000,

            onload:function(xhr)
            {

//自动选择答案
                let json=JSON.parse(xhr.responseText);
                let daan=json.data;
if(json.code==-1)daan="答案未找到";
 console.log(xhr.responseText);
let answerarray=daan.split('#');//答案数组
                console.log('答案数组：'+answerarray)

let daanlength=ti.getElementsByClassName("radio_item question-option-item-box").length;//多少个选项
for(let i=0;i<daanlength;i++){
    for(let i2=0;i2<answerarray.length;i2++)
    {
        //  console.log(ti.getElementsByClassName("radio_item question-option-item-box")[i].innerText.split('、')[1]);

        if(ti.getElementsByClassName("radio_item question-option-item-box")[i].innerText.split('、')[1]==answerarray[i2])ti.getElementsByClassName("radio_item question-option-item-box")[i].firstElementChild;
    }
}

//显示答案
 let newdaan=' ';
for(let i=0;i<answerarray.length;i++)
 {
     newdaan=newdaan+'<br>'+answerarray[i];

 }
                var text = document.querySelector('.question-title-text');
                text.innerHTML=document.getElementsByClassName("question-title-text")[0].innerHTML+ "<br>答案:"+newdaan;
                console.log(newdaan)
 text.style.color = "red";
text.style.fontSize = "10px";
                if(index < total - 1)//继续搜索接下来的题
                {
                  setTimeout(function (){
                      index = index + 1;
                      kaishi(tibody[index]);
}, 1000);

                }


            }
        })
    }

(function() {


    'use strict';

function skipp(){
    const videos = document.getElementsByTagName('video')
        if (videos.length > 0) {
            for (const video of videos) {
                video.play()
                video.currentTime = video.duration - 1
            }
}
}
function skip() {
  const progressBoxes = document.querySelectorAll('span.point-progress-box');
  for (const box of progressBoxes) {
    if (box.innerHTML === "100%") {
      continue;
    } else if (box.innerHTML === "0%") {
      const playIcons = box.parentElement.querySelectorAll('i.icon-circle.play-ico');
      if (playIcons.length > 0) {
        playIcons.forEach(function(icon) {
          icon.click();
        }
                         );
      }

    }
      skipp();
  }
}
function addAutoSkipBtn() {
  var autoSkipBtn = document.createElement("input");
  autoSkipBtn.setAttribute("type", "button");
  autoSkipBtn.setAttribute("value", "开启自动跳过视频");
  autoSkipBtn.setAttribute("class", "autoSkipBtn");
  autoSkipBtn.addEventListener("click", toggleAutoSkip);
  document.getElementsByClassName("course-name")[0].appendChild(autoSkipBtn);
            var div = document.querySelector('.course-name');
        div.insertAdjacentHTML('afterend', '<a class="button">查看答案</a>');
        document.querySelector('.button').onclick = function () {
         zhongzhuan();
        }
}

function toggleAutoSkip() {
  var autoSkipBtn = document.querySelector(".autoSkipBtn");
  if (autoSkipBtn.getAttribute("value") == "开启自动跳过视频") {
    autoSkipBtn.setAttribute("value", "关闭自动跳过视频");
      skip1()
  } else {
    autoSkipBtn.setAttribute("value", "开启自动跳过视频");
  }
}

addAutoSkipBtn();

function skip1() {
  setInterval(function() {
    skip();
  }, 3000);
};

})();
        }else{
window.onload = function(){
    var bgdiv = document.getElementById("writeQuestion");
//bgdiv.style.background = "url('https://i.postimg.cc/BZKZRRtJ/20220508084230592.jpg')";

tibody=document.getElementsByClassName("questionItem question-item-box");
total = tibody.length;
      console.log(tibody[index]);
kaishi(tibody[index]);//传入每道题


                  // 创建一个新的 div 元素
                 let newDiv = document.createElement("div");
                 // 给它一些内容
                 let newContent = document.createTextNode("colincora！Q3300519161");
                 // 添加文本节点 到这个新的 div 元素
                 newDiv.appendChild(newContent);
                 newDiv.style.position='fixed';
                 newDiv.style.backgroundColor='red'
                //  newDiv.style.width='20px';
                //  newDiv.style.length='20px';
                newDiv.style.fontSize='28px';
              document.querySelector("#beginHeaderNav").appendChild(newDiv);
                newDiv.style.top='60px';



                }




function kaishi(ti){
        GM_xmlhttpRequest({//油猴脚本提供的异步函数
            method: 'POST',
            url: 'http://cx.icodef.com/wyn-nb?v=4',//网课接口
            headers: {
                'Content-type': 'application/x-www-form-urlencoded',
                 'Authorization': 'NLUIeWEHQHBAapeH'
            },
            data: 'question='+ encodeURIComponent(ti.getElementsByClassName("question-title-box")[0].innerText),
            timeout: 2000,

            onload:function(xhr)
            {



//自动选择答案
                let json=JSON.parse(xhr.responseText);
                let daan=json.data;
if(json.code==-1)daan="答案未找到";
// console.log(xhr.responseText.code);
let answerarray=daan.split('#');//答案数组

let daanlength=ti.getElementsByClassName("radio_item question-option-item-box").length;//多少个选项
for(let i=0;i<daanlength;i++){
    for(let i2=0;i2<answerarray.length;i2++)
    {
        //  console.log(ti.getElementsByClassName("radio_item question-option-item-box")[i].innerText.split('、')[1]);

        //if(ti.getElementsByClassName("radio_item question-option-item-box")[i].innerText.split('、')[1]==answerarray[i2])ti.getElementsByClassName("radio_item question-option-item-box")[i].firstElementChild.click();
    }
}

//显示答案
 let newdaan=' ';
for(let i=0;i<answerarray.length;i++)
 {
     newdaan=newdaan+'<br>'+answerarray[i];

 }
 ti.getElementsByClassName("question-title-box")[0].innerHTML += "<br>答案:"+newdaan;
 ti.getElementsByClassName("question-title-box")[0].style.color = "red";
 ti.getElementsByClassName("question-title-box")[0].style.fontSize = "10px";
                if(index < total - 1)//继续搜索接下来的题
                {
                  setTimeout(function (){
                      index = index + 1;
                      kaishi(tibody[index]);

}, 1000);

                }


            }
        })
    }

(function() {


    'use strict';

})();
        }

GM_addStyle(`

.button {
    background: #eb94d0 !important;
  /* 创建渐变 */
    background-image: -webkit-linear-gradient(top, #eb94d0, #2079b0);
    background-image: -moz-linear-gradient(top, #eb94d0, #2079b0);
    background-image: -ms-linear-gradient(top, #eb94d0, #2079b0);
    background-image: -o-linear-gradient(top, #eb94d0, #2079b0);
    background-image: linear-gradient(to bottom, #eb94d0, #2079b0);
    /* 给按钮添加圆角 */
    -webkit-border-radius: 28;
    -moz-border-radius: 28;
    border-radius: 28px;
    text-shadow: 3px 2px 1px #9daef5;
    -webkit-box-shadow: 6px 5px 24px #666666;
    -moz-box-shadow: 6px 5px 24px #666666;
    box-shadow: 6px 5px 24px #666666;
    font-family: Arial;
    color: #fafafa;
    font-size: 5px;
    padding: 3px;
    text-decoration: none;

}

.button:hover{
	background:#2079b0 !important;        /*:hover CSS伪类,鼠标悬停效果,这里是鼠标放上去就变色*/
    background-image: -webkit-linear-gradient(top, #2079b0, #eb94d0);
    background-image: -moz-linear-gradient(top, #2079b0, #eb94d0);
    background-image: -ms-linear-gradient(top, #2079b0, #eb94d0);
    background-image: -o-linear-gradient(top, #2079b0, #eb94d0);
    background-image: linear-gradient(to bottom, #2079b0, #eb94d0);
    text-decoration: none;
}

`)
```

